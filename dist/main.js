/*! For license information please see main.js.LICENSE.txt */
!function(){var e={3099:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:function(e,t,n){var r=n(111);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:function(e,t,n){var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),u=Array.prototype;null==u[a]&&o.f(u,a,{configurable:!0,value:i(null)}),e.exports=function(e){u[a][e]=!0}},1530:function(e,t,n){"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:function(e,t,n){var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},1285:function(e,t,n){"use strict";var r=n(7908),i=n(1400),o=n(7466);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,l=void 0===s?n:i(s,n);l>u;)t[u++]=e;return t}},8533:function(e,t,n){"use strict";var r=n(2092).forEach,i=n(9341)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},8457:function(e,t,n){"use strict";var r=n(9974),i=n(7908),o=n(3411),a=n(7659),u=n(7466),s=n(6135),l=n(1246);e.exports=function(e){var t,n,c,f,p,d,h=i(e),b="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,g=void 0!==y,m=l(h),w=0;if(g&&(y=r(y,v>2?arguments[2]:void 0,2)),null==m||b==Array&&a(m))for(n=new b(t=u(h.length));t>w;w++)d=g?y(h[w],w):h[w],s(n,w,d);else for(p=(f=m.call(h)).next,n=new b;!(c=p.call(f)).done;w++)d=g?o(f,y,[c.value,w],!0):c.value,s(n,w,d);return n.length=w,n}},1318:function(e,t,n){var r=n(5656),i=n(7466),o=n(1400),a=function(e){return function(t,n,a){var u,s=r(t),l=i(s.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2092:function(e,t,n){var r=n(9974),i=n(8361),o=n(7908),a=n(7466),u=n(5417),s=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,b,v,y){for(var g,m,w=o(h),_=i(w),O=r(b,v,3),S=a(_.length),P=0,j=y||u,A=t?j(h,S):n||p?j(h,0):void 0;S>P;P++)if((d||P in _)&&(m=O(g=_[P],P,w),e))if(t)A[P]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return P;case 2:s.call(A,g)}else switch(e){case 4:return!1;case 7:s.call(A,g)}return f?-1:l||c?c:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},1194:function(e,t,n){var r=n(7293),i=n(5112),o=n(7392),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,n){"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},4362:function(e){var t=Math.floor,n=function(e,o){var a=e.length,u=t(a/2);return a<8?r(e,o):i(n(e.slice(0,u),o),n(e.slice(u),o),o)},r=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},i=function(e,t,n){for(var r=e.length,i=t.length,o=0,a=0,u=[];o<r||a<i;)o<r&&a<i?u.push(n(e[o],t[a])<=0?e[o++]:t[a++]):u.push(o<r?e[o++]:t[a++]);return u};e.exports=n},5417:function(e,t,n){var r=n(111),i=n(3157),o=n(5112)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},3411:function(e,t,n){var r=n(9670),i=n(9212);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},7072:function(e,t,n){var r=n(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},4326:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:function(e,t,n){var r=n(1694),i=n(4326),o=n(5112)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},9320:function(e,t,n){"use strict";var r=n(2248),i=n(2423).getWeakData,o=n(9670),a=n(111),u=n(5787),s=n(408),l=n(2092),c=n(6656),f=n(9909),p=f.set,d=f.getterFor,h=l.find,b=l.findIndex,v=0,y=function(e){return e.frozen||(e.frozen=new g)},g=function(){this.entries=[]},m=function(e,t){return h(e.entries,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=b(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,r){u(e,f,t),p(e,{type:t,id:v++,frozen:void 0}),null!=r&&s(r,e[l],{that:e,AS_ENTRIES:n})})),h=d(t),b=function(e,t,n){var r=h(e),a=i(o(t),!0);return!0===a?y(r).set(t,n):a[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=h(this);if(!a(e))return!1;var n=i(e);return!0===n?y(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=h(this);if(!a(e))return!1;var n=i(e);return!0===n?y(t).has(e):n&&c(n,t.id)}}),r(f.prototype,n?{get:function(e){var t=h(this);if(a(e)){var n=i(e);return!0===n?y(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return b(this,e,t)}}:{add:function(e){return b(this,e,!0)}}),f}}},7710:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(4705),a=n(1320),u=n(2423),s=n(408),l=n(5787),c=n(111),f=n(7293),p=n(7072),d=n(8003),h=n(9587);e.exports=function(e,t,n){var b=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),y=b?"set":"add",g=i[e],m=g&&g.prototype,w=g,_={},O=function(e){var t=m[e];a(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof g||!(v||m.forEach&&!f((function(){(new g).entries().next()})))))w=n.getConstructor(t,e,b,y),u.REQUIRED=!0;else if(o(e,!0)){var S=new w,P=S[y](v?{}:-0,1)!=S,j=f((function(){S.has(1)})),A=p((function(e){new g(e)})),x=!v&&f((function(){for(var e=new g,t=5;t--;)e[y](t,t);return!e.has(-0)}));A||((w=t((function(t,n){l(t,w,e);var r=h(new g,t,w);return null!=n&&s(n,r[y],{that:r,AS_ENTRIES:b}),r}))).prototype=m,m.constructor=w),(j||x)&&(O("delete"),O("has"),b&&O("get")),(x||P)&&O(y),v&&m.clear&&delete m.clear}return _[e]=w,r({global:!0,forced:w!=g},_),d(w,e),v||n.setStrong(w,e,b),w}},9920:function(e,t,n){var r=n(6656),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t){for(var n=i(t),u=a.f,s=o.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||u(e,c,s(t,c))}}},4964:function(e,t,n){var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:function(e,t,n){var r=n(4488),i=/"/g;e.exports=function(e,t,n,o){var a=String(r(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),u+">"+a+"</"+t+">"}},4994:function(e,t,n){"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),u=n(7497),s=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,l,!1,!0),u[l]=s,e}},8880:function(e,t,n){var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,n){"use strict";var r=n(7593),i=n(3070),o=n(9114);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},654:function(e,t,n){"use strict";var r=n(2109),i=n(4994),o=n(9518),a=n(7674),u=n(8003),s=n(8880),l=n(1320),c=n(5112),f=n(1913),p=n(7497),d=n(3383),h=d.IteratorPrototype,b=d.BUGGY_SAFARI_ITERATORS,v=c("iterator"),y="keys",g="values",m="entries",w=function(){return this};e.exports=function(e,t,n,c,d,_,O){i(n,t,c);var S,P,j,A=function(e){if(e===d&&q)return q;if(!b&&e in I)return I[e];switch(e){case y:case g:case m:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",E=!1,I=e.prototype,C=I[v]||I["@@iterator"]||d&&I[d],q=!b&&C||A(d),T="Array"==t&&I.entries||C;if(T&&(S=o(T.call(new e)),h!==Object.prototype&&S.next&&(f||o(S)===h||(a?a(S,h):"function"!=typeof S[v]&&s(S,v,w)),u(S,x,!0,!0),f&&(p[x]=w))),d==g&&C&&C.name!==g&&(E=!0,q=function(){return C.call(this)}),f&&!O||I[v]===q||s(I,v,q),p[t]=q,d)if(P={values:A(g),keys:_?q:A(y),entries:A(m)},O)for(j in P)(b||E||!(j in I))&&l(I,j,P[j]);else r({target:t,proto:!0,forced:b||E},P);return P}},7235:function(e,t,n){var r=n(857),i=n(6656),o=n(6061),a=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8886:function(e,t,n){var r=n(8113).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},7871:function(e){e.exports="object"==typeof window},256:function(e,t,n){var r=n(8113);e.exports=/MSIE|Trident/.test(r)},6833:function(e,t,n){var r=n(8113);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},5268:function(e,t,n){var r=n(4326),i=n(7854);e.exports="process"==r(i.process)},1036:function(e,t,n){var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,o=n(7854),a=n(8113),u=o.process,s=u&&u.versions,l=s&&s.v8;l?i=(r=l.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},8008:function(e,t,n){var r=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),u=n(3505),s=n(9920),l=n(4705);e.exports=function(e,t){var n,c,f,p,d,h=e.target,b=e.global,v=e.stat;if(n=b?r:v?r[h]||u(h,{}):(r[h]||{}).prototype)for(c in t){if(p=t[c],f=e.noTargetGet?(d=i(n,c))&&d.value:n[c],!l(b?c:h+(v?".":"#")+c,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;s(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),a(n,c,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:function(e,t,n){"use strict";n(4916);var r=n(1320),i=n(2261),o=n(7293),a=n(5112),u=n(8880),s=a("species"),l=RegExp.prototype;e.exports=function(e,t,n,c){var f=a(e),p=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),d=p&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!d||n){var h=/./[f],b=t(f,""[e],(function(e,t,n,r,o){var a=t.exec;return a===i||a===l.exec?p&&!o?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,b[0]),r(l,f,b[1])}c&&u(l[f],"sham",!0)}},6677:function(e,t,n){var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},9974:function(e,t,n){var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},5005:function(e,t,n){var r=n(857),i=n(7854),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},1246:function(e,t,n){var r=n(648),i=n(7497),o=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},647:function(e,t,n){var r=n(7908),i=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,s,l,c){var f=n+e.length,p=s.length,d=u;return void 0!==l&&(l=r(l),d=a),o.call(c,d,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":a=l[o.slice(1,-1)];break;default:var u=+o;if(0===u)return r;if(u>p){var c=i(u/10);return 0===c?r:c<=p?void 0===s[c-1]?o.charAt(1):s[c-1]+o.charAt(1):r}a=s[u-1]}return void 0===a?"":a}))}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(e,t,n){var r=n(7908),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},3501:function(e){e.exports={}},842:function(e,t,n){var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(7293),i=n(4326),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},9587:function(e,t,n){var r=n(111),i=n(7674);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},2788:function(e,t,n){var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},2423:function(e,t,n){var r=n(3501),i=n(111),o=n(6656),a=n(3070).f,u=n(9711),s=n(6677),l=u("meta"),c=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,l,{value:{objectID:"O"+c++,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,l)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[l].objectID},getWeakData:function(e,t){if(!o(e,l)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[l].weakData},onFreeze:function(e){return s&&d.REQUIRED&&f(e)&&!o(e,l)&&p(e),e}};r[l]=!0},9909:function(e,t,n){var r,i,o,a=n(8536),u=n(7854),s=n(111),l=n(8880),c=n(6656),f=n(5465),p=n(6200),d=n(3501),h="Object already initialized",b=u.WeakMap;if(a||f.state){var v=f.state||(f.state=new b),y=v.get,g=v.has,m=v.set;r=function(e,t){if(g.call(v,e))throw new TypeError(h);return t.facade=e,m.call(v,e,t),t},i=function(e){return y.call(v,e)||{}},o=function(e){return g.call(v,e)}}else{var w=p("state");d[w]=!0,r=function(e,t){if(c(e,w))throw new TypeError(h);return t.facade=e,l(e,w,t),t},i=function(e){return c(e,w)?e[w]:{}},o=function(e){return c(e,w)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:function(e,t,n){var r=n(5112),i=n(7497),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:function(e,t,n){var r=n(7293),i=/#|\.prototype\./,o=function(e,t){var n=u[a(e)];return n==l||n!=s&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=o.data={},s=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},111:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:function(e){e.exports=!1},7850:function(e,t,n){var r=n(111),i=n(4326),o=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},408:function(e,t,n){var r=n(9670),i=n(7659),o=n(7466),a=n(9974),u=n(1246),s=n(9212),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var c,f,p,d,h,b,v,y=n&&n.that,g=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),_=a(t,y,1+g+w),O=function(e){return c&&s(c),new l(!0,e)},S=function(e){return g?(r(e),w?_(e[0],e[1],O):_(e[0],e[1])):w?_(e,O):_(e)};if(m)c=e;else{if("function"!=typeof(f=u(e)))throw TypeError("Target is not iterable");if(i(f)){for(p=0,d=o(e.length);d>p;p++)if((h=S(e[p]))&&h instanceof l)return h;return new l(!1)}c=f.call(e)}for(b=c.next;!(v=b.call(c)).done;){try{h=S(v.value)}catch(e){throw s(c),e}if("object"==typeof h&&h&&h instanceof l)return h}return new l(!1)}},9212:function(e,t,n){var r=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},3383:function(e,t,n){"use strict";var r,i,o,a=n(7293),u=n(9518),s=n(8880),l=n(6656),c=n(5112),f=n(1913),p=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):d=!0);var h=null==r||a((function(){var e={};return r[p].call(e)!==e}));h&&(r={}),f&&!h||l(r,p)||s(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},7497:function(e){e.exports={}},4310:function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},5948:function(e,t,n){var r,i,o,a,u,s,l,c,f=n(7854),p=n(1236).f,d=n(261).set,h=n(6833),b=n(1036),v=n(5268),y=f.MutationObserver||f.WebKitMutationObserver,g=f.document,m=f.process,w=f.Promise,_=p(f,"queueMicrotask"),O=_&&_.value;O||(r=function(){var e,t;for(v&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},h||v||b||!y||!g?w&&w.resolve?((l=w.resolve(void 0)).constructor=w,c=l.then,a=function(){c.call(l,r)}):a=v?function(){m.nextTick(r)}:function(){d.call(f,r)}:(u=!0,s=g.createTextNode(""),new y(r).observe(s,{characterData:!0}),a=function(){s.data=u=!u})),e.exports=O||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},3366:function(e,t,n){var r=n(7854);e.exports=r.Promise},133:function(e,t,n){var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(e,t,n){var r=n(7854),i=n(2788),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},8523:function(e,t,n){"use strict";var r=n(3099),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},3929:function(e,t,n){var r=n(7850);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},1574:function(e,t,n){"use strict";var r=n(9781),i=n(7293),o=n(1956),a=n(5181),u=n(5296),s=n(7908),l=n(8361),c=Object.assign,f=Object.defineProperty;e.exports=!c||i((function(){if(r&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||o(c({},t)).join("")!=i}))?function(e,t){for(var n=s(e),i=arguments.length,c=1,f=a.f,p=u.f;i>c;)for(var d,h=l(arguments[c++]),b=f?o(h).concat(f(h)):o(h),v=b.length,y=0;v>y;)d=b[y++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:c},30:function(e,t,n){var r,i=n(9670),o=n(6048),a=n(748),u=n(3501),s=n(490),l=n(317),c=n(6200)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;d=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};u[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[c]=e):n=d(),void 0===t?n:o(n,t)}},6048:function(e,t,n){var r=n(9781),i=n(3070),o=n(9670),a=n(1956);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),u=r.length,s=0;u>s;)i.f(e,n=r[s++],t[n]);return e}},3070:function(e,t,n){var r=n(9781),i=n(4664),o=n(9670),a=n(7593),u=Object.defineProperty;t.f=r?u:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(5296),o=n(9114),a=n(5656),u=n(7593),s=n(6656),l=n(4664),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=a(e),t=u(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!i.f.call(e,t),e[t])}},1156:function(e,t,n){var r=n(5656),i=n(8006).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},8006:function(e,t,n){var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(6656),i=n(7908),o=n(6200),a=n(8544),u=o("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,u)?e[u]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},6324:function(e,t,n){var r=n(6656),i=n(5656),o=n(1318).indexOf,a=n(3501);e.exports=function(e,t){var n,u=i(e),s=0,l=[];for(n in u)!r(a,n)&&r(u,n)&&l.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~o(l,n)||l.push(n));return l}},1956:function(e,t,n){var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},4699:function(e,t,n){var r=n(9781),i=n(1956),o=n(5656),a=n(5296).f,u=function(e){return function(t){for(var n,u=o(t),s=i(u),l=s.length,c=0,f=[];l>c;)n=s[c++],r&&!a.call(u,n)||f.push(e?[n,u[n]]:u[n]);return f}};e.exports={entries:u(!0),values:u(!1)}},288:function(e,t,n){"use strict";var r=n(1694),i=n(648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},3887:function(e,t,n){var r=n(5005),i=n(8006),o=n(5181),a=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},857:function(e,t,n){var r=n(7854);e.exports=r},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:function(e,t,n){var r=n(9670),i=n(111),o=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},2248:function(e,t,n){var r=n(1320);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1320:function(e,t,n){var r=n(7854),i=n(8880),o=n(6656),a=n(3505),u=n(2788),s=n(9909),l=s.get,c=s.enforce,f=String(String).split("String");(e.exports=function(e,t,n,u){var s,l=!!u&&!!u.unsafe,p=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),(s=c(n)).source||(s.source=f.join("string"==typeof t?t:""))),e!==r?(l?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=n:i(e,t,n)):p?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||u(this)}))},7651:function(e,t,n){var r=n(4326),i=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},2261:function(e,t,n){"use strict";var r,i,o=n(7066),a=n(2999),u=n(2309),s=n(30),l=n(9909).get,c=n(9441),f=n(8173),p=RegExp.prototype.exec,d=u("native-string-replace",String.prototype.replace),h=p,b=(r=/a/,i=/b*/g,p.call(r,"a"),p.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),v=a.UNSUPPORTED_Y||a.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(b||y||v||c||f)&&(h=function(e){var t,n,r,i,a,u,c,f=this,g=l(f),m=g.raw;if(m)return m.lastIndex=f.lastIndex,t=h.call(m,e),f.lastIndex=m.lastIndex,t;var w=g.groups,_=v&&f.sticky,O=o.call(f),S=f.source,P=0,j=e;if(_&&(-1===(O=O.replace("y","")).indexOf("g")&&(O+="g"),j=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(S="(?: "+S+")",j=" "+j,P++),n=new RegExp("^(?:"+S+")",O)),y&&(n=new RegExp("^"+S+"$(?!\\s)",O)),b&&(r=f.lastIndex),i=p.call(_?n:f,j),_?i?(i.input=i.input.slice(P),i[0]=i[0].slice(P),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:b&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),y&&i&&i.length>1&&d.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&w)for(i.groups=u=s(null),a=0;a<w.length;a++)u[(c=w[a])[0]]=i[c[1]];return i}),e.exports=h},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,n){var r=n(7293),i=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},9441:function(e,t,n){var r=n(7293);e.exports=r((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},8173:function(e,t,n){var r=n(7293);e.exports=r((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:function(e,t,n){var r=n(7854),i=n(8880);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},6340:function(e,t,n){"use strict";var r=n(5005),i=n(3070),o=n(5112),a=n(9781),u=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},8003:function(e,t,n){var r=n(3070).f,i=n(6656),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},6200:function(e,t,n){var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(e,t,n){var r=n(9670),i=n(3099),o=n(5112)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},3429:function(e,t,n){var r=n(7293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:function(e,t,n){var r=n(9958),i=n(4488),o=function(e){return function(t,n){var o,a,u=String(i(t)),s=r(n),l=u.length;return s<0||s>=l?e?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===l||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},261:function(e,t,n){var r,i,o,a=n(7854),u=n(7293),s=n(9974),l=n(490),c=n(317),f=n(6833),p=n(5268),d=a.location,h=a.setImmediate,b=a.clearImmediate,v=a.process,y=a.MessageChannel,g=a.Dispatch,m=0,w={},_=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},O=function(e){return function(){_(e)}},S=function(e){_(e.data)},P=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};h&&b||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return w[++m]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(m),m},b=function(e){delete w[e]},p?r=function(e){v.nextTick(O(e))}:g&&g.now?r=function(e){g.now(O(e))}:y&&!f?(o=(i=new y).port2,i.port1.onmessage=S,r=s(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!u(P)?(r=P,a.addEventListener("message",S,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),_(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:h,clear:b}},1400:function(e,t,n){var r=n(9958),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9958:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:function(e,t,n){var r=n(9958),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488);e.exports=function(e){return Object(r(e))}},7593:function(e,t,n){var r=n(111);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},1694:function(e,t,n){var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},9711:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:function(e,t,n){var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(e,t,n){var r=n(5112);t.f=r},5112:function(e,t,n){var r=n(7854),i=n(2309),o=n(6656),a=n(9711),u=n(133),s=n(3307),l=i("wks"),c=r.Symbol,f=s?c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)&&(u||"string"==typeof l[e])||(u&&o(c,e)?l[e]=c[e]:l[e]=f("Symbol."+e)),l[e]}},2222:function(e,t,n){"use strict";var r=n(2109),i=n(7293),o=n(3157),a=n(111),u=n(7908),s=n(7466),l=n(6135),c=n(5417),f=n(1194),p=n(5112),d=n(7392),h=p("isConcatSpreadable"),b=9007199254740991,v="Maximum allowed index exceeded",y=d>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=f("concat"),m=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!y||!g},{concat:function(e){var t,n,r,i,o,a=u(this),f=c(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(m(o=-1===t?a:arguments[t])){if(p+(i=s(o.length))>b)throw TypeError(v);for(n=0;n<i;n++,p++)n in o&&l(f,p,o[n])}else{if(p>=b)throw TypeError(v);l(f,p++,o)}return f.length=p,f}})},3290:function(e,t,n){var r=n(2109),i=n(1285),o=n(1223);r({target:"Array",proto:!0},{fill:i}),o("fill")},7327:function(e,t,n){"use strict";var r=n(2109),i=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:function(e,t,n){"use strict";var r=n(2109),i=n(2092).findIndex,o=n(1223),a="findIndex",u=!0;a in[]&&Array(1).findIndex((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},9826:function(e,t,n){"use strict";var r=n(2109),i=n(2092).find,o=n(1223),a="find",u=!0;a in[]&&Array(1).find((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},1038:function(e,t,n){var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:i})},6699:function(e,t,n){"use strict";var r=n(2109),i=n(1318).includes,o=n(1223);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},6992:function(e,t,n){"use strict";var r=n(5656),i=n(1223),o=n(7497),a=n(9909),u=n(654),s="Array Iterator",l=a.set,c=a.getterFor(s);e.exports=u(Array,"Array",(function(e,t){l(this,{type:s,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},9600:function(e,t,n){"use strict";var r=n(2109),i=n(8361),o=n(5656),a=n(9341),u=[].join,s=i!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:s||!l},{join:function(e){return u.call(o(this),void 0===e?",":e)}})},1249:function(e,t,n){"use strict";var r=n(2109),i=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:function(e,t,n){"use strict";var r=n(2109),i=n(111),o=n(3157),a=n(1400),u=n(7466),s=n(5656),l=n(6135),c=n(5112),f=n(1194)("slice"),p=c("species"),d=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,c,f=s(this),b=u(f.length),v=a(e,b),y=a(void 0===t?b:t,b);if(o(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(f,v,y);for(r=new(void 0===n?Array:n)(h(y-v,0)),c=0;v<y;v++,c++)v in f&&l(r,c,f[v]);return r.length=c,r}})},2707:function(e,t,n){"use strict";var r=n(2109),i=n(3099),o=n(7908),a=n(7466),u=n(7293),s=n(4362),l=n(9341),c=n(8886),f=n(256),p=n(7392),d=n(8008),h=[],b=h.sort,v=u((function(){h.sort(void 0)})),y=u((function(){h.sort(null)})),g=l("sort"),m=!u((function(){if(p)return p<70;if(!(c&&c>3)){if(f)return!0;if(d)return d<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)h.push({k:t+r,v:n})}for(h.sort((function(e,t){return t.v-e.v})),r=0;r<h.length;r++)t=h[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:v||!y||!g||!m},{sort:function(e){void 0!==e&&i(e);var t=o(this);if(m)return void 0===e?b.call(t):b.call(t,e);var n,r,u=[],l=a(t.length);for(r=0;r<l;r++)r in t&&u.push(t[r]);for(n=(u=s(u,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:String(t)>String(n)?1:-1}}(e))).length,r=0;r<n;)t[r]=u[r++];for(;r<l;)delete t[r++];return t}})},561:function(e,t,n){"use strict";var r=n(2109),i=n(1400),o=n(9958),a=n(7466),u=n(7908),s=n(5417),l=n(6135),c=n(1194)("splice"),f=Math.max,p=Math.min,d=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!c},{splice:function(e,t){var n,r,c,b,v,y,g=u(this),m=a(g.length),w=i(e,m),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=m-w):(n=_-2,r=p(f(o(t),0),m-w)),m+n-r>d)throw TypeError(h);for(c=s(g,r),b=0;b<r;b++)(v=w+b)in g&&l(c,b,g[v]);if(c.length=r,n<r){for(b=w;b<m-r;b++)y=b+n,(v=b+r)in g?g[y]=g[v]:delete g[y];for(b=m;b>m-r+n;b--)delete g[b-1]}else if(n>r)for(b=m-r;b>w;b--)y=b+n-1,(v=b+r-1)in g?g[y]=g[v]:delete g[y];for(b=0;b<n;b++)g[b+w]=arguments[b+2];return g.length=m-r+n,c}})},8309:function(e,t,n){var r=n(9781),i=n(3070).f,o=Function.prototype,a=o.toString,u=/^\s*function ([^ (]*)/,s="name";r&&!(s in o)&&i(o,s,{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(e){return""}}})},2420:function(e,t,n){n(2109)({target:"Math",stat:!0},{sign:n(4310)})},9601:function(e,t,n){var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},9720:function(e,t,n){var r=n(2109),i=n(4699).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},8559:function(e,t,n){var r=n(2109),i=n(408),o=n(6135);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},5003:function(e,t,n){var r=n(2109),i=n(7293),o=n(5656),a=n(1236).f,u=n(9781),s=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||s,sham:!u},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},9337:function(e,t,n){var r=n(2109),i=n(9781),o=n(3887),a=n(5656),u=n(1236),s=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=u.f,l=o(r),c={},f=0;l.length>f;)void 0!==(n=i(r,t=l[f++]))&&s(c,t,n);return c}})},7941:function(e,t,n){var r=n(2109),i=n(7908),o=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},1539:function(e,t,n){var r=n(1694),i=n(1320),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},2479:function(e,t,n){var r=n(2109),i=n(4699).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},8674:function(e,t,n){"use strict";var r,i,o,a,u=n(2109),s=n(1913),l=n(7854),c=n(5005),f=n(3366),p=n(1320),d=n(2248),h=n(7674),b=n(8003),v=n(6340),y=n(111),g=n(3099),m=n(5787),w=n(2788),_=n(408),O=n(7072),S=n(6707),P=n(261).set,j=n(5948),A=n(9478),x=n(842),E=n(8523),I=n(2534),C=n(9909),q=n(4705),T=n(5112),k=n(7871),N=n(5268),V=n(7392),D=T("species"),z="Promise",M=C.get,R=C.set,L=C.getterFor(z),B=f&&f.prototype,F=f,U=B,H=l.TypeError,K=l.document,G=l.process,W=E.f,$=W,Y=!!(K&&K.createEvent&&l.dispatchEvent),X="function"==typeof PromiseRejectionEvent,J="unhandledrejection",Z=!1,Q=q(z,(function(){var e=w(F),t=e!==String(F);if(!t&&66===V)return!0;if(s&&!U.finally)return!0;if(V>=51&&/native code/.test(e))return!1;var n=new F((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[D]=r,!(Z=n.then((function(){}))instanceof r)||!t&&k&&!X})),ee=Q||!O((function(e){F.all(e).catch((function(){}))})),te=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},ne=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;j((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,u,s,l=n[o++],c=i?l.ok:l.fail,f=l.resolve,p=l.reject,d=l.domain;try{c?(i||(2===e.rejection&&ae(e),e.rejection=1),!0===c?a=r:(d&&d.enter(),a=c(r),d&&(d.exit(),s=!0)),a===l.promise?p(H("Promise-chain cycle")):(u=te(a))?u.call(a,f,p):f(a)):p(r)}catch(e){d&&!s&&d.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},re=function(e,t,n){var r,i;Y?((r=K.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!X&&(i=l["on"+e])?i(r):e===J&&x("Unhandled promise rejection",n)},ie=function(e){P.call(l,(function(){var t,n=e.facade,r=e.value;if(oe(e)&&(t=I((function(){N?G.emit("unhandledRejection",r,n):re(J,n,r)})),e.rejection=N||oe(e)?2:1,t.error))throw t.value}))},oe=function(e){return 1!==e.rejection&&!e.parent},ae=function(e){P.call(l,(function(){var t=e.facade;N?G.emit("rejectionHandled",t):re("rejectionhandled",t,e.value)}))},ue=function(e,t,n){return function(r){e(t,r,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ne(e,!0))},le=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw H("Promise can't be resolved itself");var r=te(t);r?j((function(){var n={done:!1};try{r.call(t,ue(le,n,e),ue(se,n,e))}catch(t){se(n,t,e)}})):(e.value=t,e.state=1,ne(e,!1))}catch(t){se({done:!1},t,e)}}};if(Q&&(U=(F=function(e){m(this,F,z),g(e),r.call(this);var t=M(this);try{e(ue(le,t),ue(se,t))}catch(e){se(t,e)}}).prototype,(r=function(e){R(this,{type:z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(U,{then:function(e,t){var n=L(this),r=W(S(this,F));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=N?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ne(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=M(e);this.promise=e,this.resolve=ue(le,t),this.reject=ue(se,t)},E.f=W=function(e){return e===F||e===o?new i(e):$(e)},!s&&"function"==typeof f&&B!==Object.prototype)){a=B.then,Z||(p(B,"then",(function(e,t){var n=this;return new F((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),p(B,"catch",U.catch,{unsafe:!0}));try{delete B.constructor}catch(e){}h&&h(B,U)}u({global:!0,wrap:!0,forced:Q},{Promise:F}),b(F,z,!1,!0),v(z),o=c(z),u({target:z,stat:!0,forced:Q},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),u({target:z,stat:!0,forced:s||Q},{resolve:function(e){return A(s&&this===o?F:this,e)}}),u({target:z,stat:!0,forced:ee},{all:function(e){var t=this,n=W(t),r=n.resolve,i=n.reject,o=I((function(){var n=g(t.resolve),o=[],a=0,u=1;_(e,(function(e){var s=a++,l=!1;o.push(void 0),u++,n.call(t,e).then((function(e){l||(l=!0,o[s]=e,--u||r(o))}),i)})),--u||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=W(t),r=n.reject,i=I((function(){var i=g(t.resolve);_(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},4603:function(e,t,n){var r=n(9781),i=n(7854),o=n(4705),a=n(9587),u=n(8880),s=n(3070).f,l=n(8006).f,c=n(7850),f=n(7066),p=n(2999),d=n(1320),h=n(7293),b=n(6656),v=n(9909).enforce,y=n(6340),g=n(5112),m=n(9441),w=n(8173),_=g("match"),O=i.RegExp,S=O.prototype,P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,j=/a/g,A=/a/g,x=new O(j)!==j,E=p.UNSUPPORTED_Y;if(o("RegExp",r&&(!x||E||m||w||h((function(){return A[_]=!1,O(j)!=j||O(A)==A||"/a/i"!=O(j,"i")}))))){for(var I=function(e,t){var n,r,i,o,s,l,p=this instanceof I,d=c(e),h=void 0===t,y=[],g=e;if(!p&&d&&h&&e.constructor===I)return e;if((d||e instanceof I)&&(e=e.source,h&&(t="flags"in g?g.flags:f.call(g))),e=void 0===e?"":String(e),t=void 0===t?"":String(t),g=e,m&&"dotAll"in j&&(r=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),n=t,E&&"sticky"in j&&(i=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),w&&(e=(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},u=!1,s=!1,l=0,c="";r<=n;r++){if("\\"===(t=e.charAt(r)))t+=e.charAt(++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:P.test(e.slice(r+1))&&(r+=2,s=!0),i+=t,l++;continue;case">"===t&&s:if(""===c||b(a,c))throw new SyntaxError("Invalid capture group name");a[c]=!0,o.push([c,l]),s=!1,c="";continue}s?c+=t:i+=t}return[i,o]}(e))[0],y=o[1]),s=a(O(e,t),p?this:S,I),(r||i||y.length)&&(l=v(s),r&&(l.dotAll=!0,l.raw=I(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=e.charAt(r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+e.charAt(++r);return i}(e),n)),i&&(l.sticky=!0),y.length&&(l.groups=y)),e!==g)try{u(s,"source",""===g?"(?:)":g)}catch(e){}return s},C=function(e){e in I||s(I,e,{configurable:!0,get:function(){return O[e]},set:function(t){O[e]=t}})},q=l(O),T=0;q.length>T;)C(q[T++]);S.constructor=I,I.prototype=S,d(i,"RegExp",I)}y("RegExp")},4916:function(e,t,n){"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},2087:function(e,t,n){var r=n(9781),i=n(3070),o=n(7066),a=n(7293);r&&a((function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})}))&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},9714:function(e,t,n){"use strict";var r=n(1320),i=n(9670),o=n(7293),a=n(7066),u="toString",s=RegExp.prototype,l=s.toString,c=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=u;(c||f)&&r(RegExp.prototype,u,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)}),{unsafe:!0})},5218:function(e,t,n){"use strict";var r=n(2109),i=n(4230);r({target:"String",proto:!0,forced:n(3429)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},2023:function(e,t,n){"use strict";var r=n(2109),i=n(3929),o=n(4488);r({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},8783:function(e,t,n){"use strict";var r=n(8710).charAt,i=n(9909),o=n(654),a="String Iterator",u=i.set,s=i.getterFor(a);o(String,"String",(function(e){u(this,{type:a,string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},5306:function(e,t,n){"use strict";var r=n(7007),i=n(7293),o=n(9670),a=n(7466),u=n(9958),s=n(4488),l=n(1530),c=n(647),f=n(7651),p=n(5112)("replace"),d=Math.max,h=Math.min,b="$0"==="a".replace(/./,"$0"),v=!!/./[p]&&""===/./[p]("a","$0");r("replace",(function(e,t,n){var r=v?"$":"$0";return[function(e,n){var r=s(this),i=null==e?void 0:e[p];return void 0!==i?i.call(e,r,n):t.call(String(r),e,n)},function(e,i){if("string"==typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var s=n(t,this,e,i);if(s.done)return s.value}var p=o(this),b=String(e),v="function"==typeof i;v||(i=String(i));var y=p.global;if(y){var g=p.unicode;p.lastIndex=0}for(var m=[];;){var w=f(p,b);if(null===w)break;if(m.push(w),!y)break;""===String(w[0])&&(p.lastIndex=l(b,a(p.lastIndex),g))}for(var _,O="",S=0,P=0;P<m.length;P++){w=m[P];for(var j=String(w[0]),A=d(h(u(w.index),b.length),0),x=[],E=1;E<w.length;E++)x.push(void 0===(_=w[E])?_:String(_));var I=w.groups;if(v){var C=[j].concat(x,A,b);void 0!==I&&C.push(I);var q=String(i.apply(void 0,C))}else q=c(j,b,A,x,I,i);A>=S&&(O+=b.slice(S,A)+q,S=A+j.length)}return O+b.slice(S)}]}),!!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!b||v)},3123:function(e,t,n){"use strict";var r=n(7007),i=n(7850),o=n(9670),a=n(4488),u=n(6707),s=n(1530),l=n(7466),c=n(7651),f=n(2261),p=n(2999),d=n(7293),h=p.UNSUPPORTED_Y,b=[].push,v=Math.min,y=4294967295;r("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?y:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var u,s,l,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=new RegExp(e.source,p+"g");(u=f.call(h,r))&&!((s=h.lastIndex)>d&&(c.push(r.slice(d,u.index)),u.length>1&&u.index<r.length&&b.apply(c,u.slice(1)),l=u[0].length,d=s,c.length>=o));)h.lastIndex===u.index&&h.lastIndex++;return d===r.length?!l&&h.test("")||c.push(""):c.push(r.slice(d)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,this,e,i,r!==t);if(a.done)return a.value;var f=o(this),p=String(e),d=u(f,RegExp),b=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(h?"g":"y"),m=new d(h?"^(?:"+f.source+")":f,g),w=void 0===i?y:i>>>0;if(0===w)return[];if(0===p.length)return null===c(m,p)?[p]:[];for(var _=0,O=0,S=[];O<p.length;){m.lastIndex=h?0:O;var P,j=c(m,h?p.slice(O):p);if(null===j||(P=v(l(m.lastIndex+(h?O:0)),p.length))===_)O=s(p,O,b);else{if(S.push(p.slice(_,O)),S.length===w)return S;for(var A=1;A<=j.length-1;A++)if(S.push(j[A]),S.length===w)return S;O=_=P}}return S.push(p.slice(_)),S}]}),!!d((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),h)},6755:function(e,t,n){"use strict";var r,i=n(2109),o=n(1236).f,a=n(7466),u=n(3929),s=n(4488),l=n(4964),c=n(1913),f="".startsWith,p=Math.min,d=l("startsWith");i({target:"String",proto:!0,forced:!(!c&&!d&&(r=o(String.prototype,"startsWith"),r&&!r.writable)||d)},{startsWith:function(e){var t=String(s(this));u(e);var n=a(p(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return f?f.call(t,r,n):t.slice(n,n+r.length)===r}})},1817:function(e,t,n){"use strict";var r=n(2109),i=n(9781),o=n(7854),a=n(6656),u=n(111),s=n(3070).f,l=n(9920),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};l(p,c);var d=p.prototype=c.prototype;d.constructor=p;var h=d.toString,b="Symbol(test)"==String(c("test")),v=/^Symbol\((.*)\)[^)]+$/;s(d,"description",{configurable:!0,get:function(){var e=u(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var n=b?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},2165:function(e,t,n){n(7235)("iterator")},2526:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(5005),a=n(1913),u=n(9781),s=n(133),l=n(3307),c=n(7293),f=n(6656),p=n(3157),d=n(111),h=n(9670),b=n(7908),v=n(5656),y=n(7593),g=n(9114),m=n(30),w=n(1956),_=n(8006),O=n(1156),S=n(5181),P=n(1236),j=n(3070),A=n(5296),x=n(8880),E=n(1320),I=n(2309),C=n(6200),q=n(3501),T=n(9711),k=n(5112),N=n(6061),V=n(7235),D=n(8003),z=n(9909),M=n(2092).forEach,R=C("hidden"),L="Symbol",B=k("toPrimitive"),F=z.set,U=z.getterFor(L),H=Object.prototype,K=i.Symbol,G=o("JSON","stringify"),W=P.f,$=j.f,Y=O.f,X=A.f,J=I("symbols"),Z=I("op-symbols"),Q=I("string-to-symbol-registry"),ee=I("symbol-to-string-registry"),te=I("wks"),ne=i.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,ie=u&&c((function(){return 7!=m($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=W(H,t);r&&delete H[t],$(e,t,n),r&&e!==H&&$(H,t,r)}:$,oe=function(e,t){var n=J[e]=m(K.prototype);return F(n,{type:L,tag:e,description:t}),u||(n.description=t),n},ae=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},ue=function(e,t,n){e===H&&ue(Z,t,n),h(e);var r=y(t,!0);return h(n),f(J,r)?(n.enumerable?(f(e,R)&&e[R][r]&&(e[R][r]=!1),n=m(n,{enumerable:g(0,!1)})):(f(e,R)||$(e,R,g(1,{})),e[R][r]=!0),ie(e,r,n)):$(e,r,n)},se=function(e,t){h(e);var n=v(t),r=w(n).concat(pe(n));return M(r,(function(t){u&&!le.call(n,t)||ue(e,t,n[t])})),e},le=function(e){var t=y(e,!0),n=X.call(this,t);return!(this===H&&f(J,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f(J,t)||f(this,R)&&this[R][t])||n)},ce=function(e,t){var n=v(e),r=y(t,!0);if(n!==H||!f(J,r)||f(Z,r)){var i=W(n,r);return!i||!f(J,r)||f(n,R)&&n[R][r]||(i.enumerable=!0),i}},fe=function(e){var t=Y(v(e)),n=[];return M(t,(function(e){f(J,e)||f(q,e)||n.push(e)})),n},pe=function(e){var t=e===H,n=Y(t?Z:v(e)),r=[];return M(n,(function(e){!f(J,e)||t&&!f(H,e)||r.push(J[e])})),r};s||(E((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=T(e),n=function(e){this===H&&n.call(Z,e),f(this,R)&&f(this[R],t)&&(this[R][t]=!1),ie(this,t,g(1,e))};return u&&re&&ie(H,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return U(this).tag})),E(K,"withoutSetter",(function(e){return oe(T(e),e)})),A.f=le,j.f=ue,P.f=ce,_.f=O.f=fe,S.f=pe,N.f=function(e){return oe(k(e),e)},u&&($(K.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),a||E(H,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:K}),M(w(te),(function(e){V(e)})),r({target:L,stat:!0,forced:!s},{for:function(e){var t=String(e);if(f(Q,t))return Q[t];var n=K(t);return Q[t]=n,ee[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(f(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!u},{create:function(e,t){return void 0===t?m(e):se(m(e),t)},defineProperty:ue,defineProperties:se,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:c((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(b(e))}}),G&&r({target:"JSON",stat:!0,forced:!s||c((function(){var e=K();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(d(t)||void 0!==e)&&!ae(e))return p(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,G.apply(null,i)}}),K.prototype[B]||x(K.prototype,B,K.prototype.valueOf),D(K,L),q[R]=!0},3510:function(e,t,n){n(7235)("replace")},4129:function(e,t,n){"use strict";var r,i=n(7854),o=n(2248),a=n(2423),u=n(7710),s=n(9320),l=n(111),c=n(9909).enforce,f=n(8536),p=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,h=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},b=e.exports=u("WeakMap",h,s);if(f&&p){r=s.getConstructor(h,"WeakMap",!0),a.REQUIRED=!0;var v=b.prototype,y=v.delete,g=v.has,m=v.get,w=v.set;o(v,{delete:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.delete(e)}return y.call(this,e)},has:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),g.call(this,e)||t.frozen.has(e)}return g.call(this,e)},get:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),g.call(this,e)?m.call(this,e):t.frozen.get(e)}return m.call(this,e)},set:function(e,t){if(l(e)&&!d(e)){var n=c(this);n.frozen||(n.frozen=new r),g.call(this,e)?w.call(this,e,t):n.frozen.set(e,t)}else w.call(this,e,t);return this}})}},4747:function(e,t,n){var r=n(7854),i=n(8324),o=n(8533),a=n(8880);for(var u in i){var s=r[u],l=s&&s.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(e){l.forEach=o}}},3948:function(e,t,n){var r=n(7854),i=n(8324),o=n(6992),a=n(8880),u=n(5112),s=u("iterator"),l=u("toStringTag"),c=o.values;for(var f in i){var p=r[f],d=p&&p.prototype;if(d){if(d[s]!==c)try{a(d,s,c)}catch(e){d[s]=c}if(d[l]||a(d,l,f),i[f])for(var h in o)if(d[h]!==o[h])try{a(d,h,o[h])}catch(e){d[h]=o[h]}}}},5666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",b={};function v(){}function y(){}function g(){}var m={};m[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(I([])));_&&_!==n&&r.call(_,o)&&(m=_);var O=g.prototype=v.prototype=Object.create(m);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,u){var s=c(e[i],e,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:C}}function C(){return{value:t,done:!0}}return y.prototype=O.constructor=g,g.constructor=y,y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},S(P.prototype),P.prototype[a]=function(){return this},e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,u,"Generator"),O[o]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1539),n(8674),n(5666),n(9601),n(4747),n(7042),n(9600),n(1249),n(4916),n(3123),n(7941),n(2526),n(7327),n(5003),n(9337);var o=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:null,value:null,prev:null,next:null,lastUpdated:new Date},e)},a=function(){function n(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(this,n),this.max=t,this.head=o(),this.tail=o(),this.timeBeforeClear=i,window.setInterval((function(){r._removeBefore(r.timeBeforeClear)}),1e4),this.reset()}var r,i;return r=n,(i=[{key:"get",value:function(e){var t=this.map[e];return t&&(t.lastUpdated=new Date),null==t?void 0:t.value}},{key:"set",value:function(e,t){var n=this.tail.prev,r=o({key:e,value:t,prev:n,next:this.tail});return n.next=r,this.tail.prev=r,this.size++,this.size>this.max&&this._removeOldest(),this.map[e]=r,null==r?void 0:r.value}},{key:"remove",value:function(e){var t=this.map[e];return this._remove(t)}},{key:"reset",value:function(){this.map={},this.size=0,this.head.next=this.tail,this.tail.prev=this.head}},{key:"_remove",value:function(e){if(e&&e!==this.head&&e!==this.tail){var t=e.prev,n=e.next;t.next=n,n.prev=t,this.size--,delete this.map[e.key]}return null==e?void 0:e.value}},{key:"_removeOldest",value:function(){var e=this.head.next;return this._remove(e)}},{key:"_removeBefore",value:function(e){if(e){for(var t=new Date,n={},r=this.head;r.next!==this.tail&&t-r.next.lastUpdated<e;)n[(r=r.next).key]=r;r.next=this.tail,this.tail.prev=r,this.map=n}}}])&&t(r.prototype,i),n}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){s=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),c(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return l(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!==u(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},s.apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(1038),n(8783),n(6699),n(2023),n(9720),n(1817),n(2165),n(6992),n(3948),n(8309),n(2222),n(2479),n(4553),n(2087),n(8559),n(561),n(4603),n(9714),n(4129),n(3510),n(5306);var f="+",p="−",d="⨉",h="÷",b=s(/^Arrow(.*)/,{dir:1}),v=s(/^Arrow(Left|Right)/,{dir:1}),y=s(/^(Digit|Numpad)([0-9])/,{num:2}),g={info:"fas fa-info-circle",ban:"fas fa-ban",circle:"far fa-circle",circleFilled:"fas fa-circle",square:"far fa-square",slash:"fas fa-slash",clear:"fas fa-eraser",reset:"fas fa-undo-alt",select:"far fa-check-circle",confirm:"fas fa-check-circle"},m=regeneratorRuntime.mark(H);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,E=function(e){return e},I=function e(t,n){var r=n.min,i=void 0===r?1:r,o=n.max,a=void 0===o?9:o,u=n.numRepeatsAllowed,s=void 0===u?0:u,l=a-i+1,c={min:i+1,max:a,numRepeatsAllowed:s};if(0===t)return[[]];if(l<=0||t>l+s)return[];var f=s>0&&t>=2?e(t-2,j(j({},c),{},{numRepeatsAllowed:s-1})).map((function(e){return[i,i].concat(_(e))})):[],p=e(t-1,c).map((function(e){return[i].concat(_(e))})),d=e(t,c);return[].concat(_(f),_(p),_(d))},C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n+1>t.length)return Object.values(r).map((function(e){return e.rows.length})).filter((function(e){return 2===e})).length;var o=w(t[n],2),a=o[0],u=o[1],s=Object.keys(r).filter((function(e){var t=r[e],n=t.rows,i=t.cols;return!n.includes(a)&&!i.includes(u)})).concat(i);return s.reduce((function(o,s){var l=K(r);l[s]=l[s]||{rows:[],cols:[]},l[s].rows.push(a),l[s].cols.push(u);var c=e(t,n+1,l,i+1);return c>o?c:o}),0)},q=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},T=function(e,t){return e.some((function(e){return q(e,t)}))},k=function(e,t){return e.findIndex((function(e){return q(e,t)}))},N=function(e){for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.every((function(n){var r=e.findIndex((function(e,r){return e===n&&!t[r]}));return-1!==r&&(t[r]=!0,!0)}))},V=(x=0,function(){return"".concat(x++)});function D(e){return e instanceof Array?e[0]?e[1]:e[2]:e}function z(e){return e.map(D).filter(E)}function M(e,t){return z(t).map((function(t){return"".concat(e,"--").concat(t)}))}var R=function(e,t){return e instanceof Array?z(e).join(" "):"string"==typeof e&&t instanceof Array?function(e,t){return[e].concat(_(M(e,t))).join(" ")}(e,t):function(e){var t=e.base,n=void 0===t?null:t,r=e.flags,i=void 0===r?[]:r,o=e.classes,a=z([n].concat(_(void 0===o?[]:o))),u=M(n,i);return[].concat(_(a),_(u)).join(" ")}(e)},L=function(e){return new Promise((function(t){return window.setTimeout(t,e)}))},B=function(e){var t;return parseInt(null===(t=y.exec(e))||void 0===t?void 0:t.groups.num)},F=function(e){var t,n;return null===(t=b.exec(e))||void 0===t||null===(n=t.groups)||void 0===n?void 0:n.dir},U=function(e){var t=H(e);return function(){return t.next().value}};function H(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}}),m)}function K(e){switch(e.constructor.name){case"Object":return Object.fromEntries(Object.entries(e).map((function(e){var t=w(e,2);return[t[0],K(t[1])]})));case"Array":return e.map((function(e){return K(e)}));default:return e}}var G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e.indexOf(t)},r=n(e,t);r>=0?e.splice(r,1):e.push(t)},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e.indexOf(t)},r=n(e,t);r>=0&&e.splice(r,1)},$=function(e,t){var n=w(e,2),r=n[0],i=n[1],o=w(t,2),a=o[0],u=o[1],s=Y(r,a),l=Y(i,u);return s.reduce((function(e,t){var n=l.map((function(e){return[t,e]}));return e.concat(n)}),[])};function Y(e,t){var n=e<t?function(t,n){return n+e}:function(t,n){return e-n};return Array.from({length:Math.abs(e-t)+1}).map(n)}var X=function(e,t,n){return function(e){var t=e.casesFn;if("string"!=typeof e.input)throw new Error("First argument to stringSwitch must be a string");if("function"!=typeof t)throw new Error("Second argument to stringSwitch must be a function")}({input:e,casesFn:t}),function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.fallthrough,o=void 0!==i&&i,a=r.multipleMatches,u=void 0!==a&&a,s=!1;function l(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=e(r),l=a.exec;((0,a.isMatch)()&&(!s||u)||s&&o)&&(s=!0,n=l())}function c(e){if("function"!=typeof e)throw new Error("Argument to default function must be a function");s&&!o||(n=e())}function f(e){if("function"!=typeof e)throw new Error("Argument to ensure function must be a function");s&&e()}return t({_case:l,_default:c,_ensure:f}),n}((function(t){return function(e,t){var n=t.pop();if("function"!=typeof n)throw new Error("Last argument to case function must be a callback to execute if the case matches");return{exec:n,isMatch:function(){return t.every((function(t){return J(t)(e)}))}}}(e,t)}),t,n)};function J(e){var t=function(t){return e instanceof t};if("string"==typeof e)return function(t){return e===t};if("boolean"==typeof e)return function(){return e};if(t(RegExp))return function(t){return e.test(t)};if(t(Array))return function(t){return e.some((function(e){return J(e)(t)}))};throw new Error("Matcher arguments to case function must be a string, regular expression, boolean, or array of such. Instead, received ".concat(e))}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e,t,n){document.addEventListener("click",(function(r){var i=!t.contains(r.target),o=i&&e.contains(r.target),a=e.classList.contains(n);(a&&i||!a&&o)&&(a&&e.blur(),e.classList.toggle(n))}))},te=function(e,t){return e.addEventListener("mousedown",(function(e){e.preventDefault(),t(e)}))},ne=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?e.content.firstElementChild:e.content},re=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ne(document.getElementById(e),t)};function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.nodeName===t.nodeName&&ae(e,t,n)&&oe(e,t,n)}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e instanceof Node?Array.from(e.childNodes):e,i=t instanceof Node?Array.from(t.childNodes):t;if(r.length!==i.length)return!1;if(0===r.length)return!0;for(var o=0;o<r.length;o++){var a=r[o],u=i[o];if(!ie(a,u,n))return!1}return!0}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.getAttributeNames(),i=t.getAttributeNames();return n.attributes&&(r=r.filter((function(e){return n.attributes.includes(e)})),i=i.filter((function(e){return n.attributes.includes(e)}))),r.length===i.length&&r.every((function(n){return e.getAttribute(n)===t.getAttribute(n)}))}function ue(e,t){e.getAttributeNames().forEach((function(n){var r=Z([e,t].map((function(e){return e.getAttribute(n)})),2),i=r[0],o=r[1];i!==o&&e.setAttribute(n,o)}))}var se,le,ce=[{id:1,size:9,difficulty:"hard",operations:[f,p,d,h],cages:[{squares:[[0,0],[1,0]],operation:h,result:2},{squares:[[0,1],[1,1]],operation:p,result:1},{squares:[[0,2],[1,2]],operation:h,result:3},{squares:[[0,3],[1,3]],operation:d,result:56},{squares:[[0,4],[0,5]],operation:p,result:4},{squares:[[0,6],[1,6]],operation:f,result:11},{squares:[[0,7],[0,8]],operation:h,result:2},{squares:[[1,4],[2,4]],operation:p,result:2},{squares:[[1,5],[2,5]],operation:d,result:72},{squares:[[2,6],[3,6]],operation:h,result:2},{squares:[[1,7],[2,7],[3,7]],operation:f,result:17},{squares:[[1,8],[2,8]],operation:h,result:3},{squares:[[2,0],[2,1]],operation:p,result:7},{squares:[[2,2],[2,3]],operation:d,result:24},{squares:[[3,0],[4,0]],operation:f,result:14},{squares:[[3,1],[4,1]],operation:d,result:12},{squares:[[3,2],[3,3]],operation:f,result:11},{squares:[[3,4],[3,5]],operation:f,result:9},{squares:[[3,8],[4,8]],operation:d,result:54},{squares:[[4,2],[5,1],[5,2]],operation:d,result:90},{squares:[[4,3],[4,4]],operation:f,result:11},{squares:[[4,5],[5,5]],operation:h,result:3},{squares:[[4,6],[4,7],[5,7]],operation:d,result:320},{squares:[[5,0],[6,0],[6,1]],operation:f,result:15},{squares:[[5,3],[5,4],[6,4]],operation:d,result:16},{squares:[[5,6],[6,6]],operation:p,result:5},{squares:[[5,8],[6,8]],operation:f,result:9},{squares:[[6,2],[6,3]],operation:d,result:7},{squares:[[6,5],[7,5]],operation:h,result:3},{squares:[[6,7],[7,6],[7,7],[7,8]],operation:d,result:45},{squares:[[7,0],[8,0]],operation:p,result:4},{squares:[[7,1],[7,2]],operation:p,result:2},{squares:[[7,3],[7,4]],operation:f,result:13},{squares:[[8,1],[8,2]],operation:h,result:2},{squares:[[8,3],[8,4]],operation:p,result:1},{squares:[[8,5],[8,6]],operation:p,result:3},{squares:[[8,7],[8,8]],operation:p,result:1}],solution:[[1,7,3,8,9,5,6,2,4],[2,6,9,7,3,8,5,4,1],[8,1,4,6,5,9,2,7,3],[5,4,8,3,2,7,1,6,9],[9,3,2,4,7,1,8,5,6],[6,9,5,2,1,3,4,8,7],[4,5,7,1,8,6,9,3,2],[7,8,6,9,4,2,3,1,5],[3,2,1,5,6,4,7,9,8]]},{id:2,size:9,difficulty:"hard",operations:[f,p,d,h],cages:[{squares:[[0,0],[1,0],[2,0]],operation:d,result:15},{squares:[[0,1],[1,1]],operation:h,result:2},{squares:[[0,2],[1,2]],operation:h,result:2},{squares:[[0,3],[0,4],[0,5],[0,6]],operation:f,result:25},{squares:[[0,7],[0,8],[1,8],[2,8]],operation:d,result:320},{squares:[[1,3],[2,3]],operation:f,result:11},{squares:[[1,4],[2,4]],operation:f,result:5},{squares:[[1,5],[2,5]],operation:p,result:1},{squares:[[1,6],[1,7]],operation:p,result:3},{squares:[[2,1],[3,1]],operation:d,result:45},{squares:[[2,2],[3,2]],operation:d,result:42},{squares:[[2,6],[3,6]],operation:h,result:2},{squares:[[2,7],[3,7],[3,8]],operation:f,result:14},{squares:[[3,0],[4,0]],operation:d,result:14},{squares:[[3,3],[3,4],[4,4]],operation:d,result:80},{squares:[[3,5],[4,5]],operation:f,result:5},{squares:[[4,1],[4,2],[4,3]],operation:f,result:12},{squares:[[4,6],[5,6],[6,6]],operation:d,result:14},{squares:[[4,7],[5,7]],operation:d,result:45},{squares:[[4,8],[5,8]],operation:h,result:2},{squares:[[5,0],[6,0]],operation:h,result:2},{squares:[[5,1],[6,1]],operation:f,result:13},{squares:[[5,2],[6,2]],operation:p,result:1},{squares:[[5,3],[6,3]],operation:p,result:1},{squares:[[5,4],[5,5]],operation:d,result:14},{squares:[[6,4],[6,5]],operation:p,result:6},{squares:[[6,7],[6,8]],operation:p,result:5},{squares:[[7,0],[7,1]],operation:f,result:11},{squares:[[7,2],[8,2]],operation:h,result:3},{squares:[[7,3],[8,3]],operation:d,result:28},{squares:[[7,4],[8,4]],operation:h,result:4},{squares:[[7,5],[8,5]],operation:f,result:11},{squares:[[7,6],[8,6]],operation:p,result:3},{squares:[[7,7],[7,8]],operation:p,result:1},{squares:[[8,0],[8,1]],operation:p,result:5},{squares:[[8,7],[8,8]],operation:p,result:1}],solution:[[5,4,1,3,6,7,9,2,8],[1,8,2,6,3,9,4,7,5],[3,9,7,5,2,8,6,1,4],[7,5,6,2,8,1,3,4,9],[2,3,8,1,5,4,7,9,6],[8,6,4,9,7,2,1,5,3],[4,7,5,8,9,3,2,6,1],[9,2,3,4,1,6,5,8,7],[6,1,9,7,4,5,8,3,2]]}],fe=["requestId"];function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){be(o,r,i,a,u,"next",e)}function u(e){be(o,r,i,a,u,"throw",e)}a(void 0)}))}}if(Worker&&indexedDB){var ye=new Worker("./dist/storage_worker.js"),ge={},me=new Promise((function(e,t){var n=function(){ye.onmessage=null,we(),console.log("indexedDb failed to load, falling back to local storage"),t()},r=window.setTimeout(n,1e3);ye.onmessage=function(t){var i=t.data,o=i.requestId,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,fe),u=ge[o];u?(u(a),delete ge[o]):"META"===t.data.type?("dbLoaded"===t.data.status?(window.clearTimeout(r),e()):"dbFailure"===t.data.status&&(window.clearTimeout(r),n()),console.log(t.data.status)):console.log("Failed to find matching request for: ",t)}}));function e(e,n){return t.apply(this,arguments)}function t(){return(t=ve(regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me;case 2:return i=Math.random(),ye.postMessage(de(de({},t),{},{requestId:i})),e.abrupt("return",new Promise((function(e,t){if(void 0!==r){var o=window.setTimeout((function(){t("Request timed out")}),r);n(i,e,t,(function(){window.clearTimeout(o)}))}else n(i,e,t)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};ge[e]=function(e){return r(),"error"===e.status?n(e):t(e)}}se=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return e({type:"ADD",key:t,value:n},r).then((function(){return!0}),(function(){return!1}))},le=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return e({type:"GET",key:t},n).then((function(e){return e.result}),(function(e){return console.log(e)}))}}else we();function we(){se=function(){var e=ve(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.setItem(t,JSON.stringify(n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=ve(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem(t),e.abrupt("return",JSON.parse(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Pe(o,r,i,a,u,"next",e)}function u(e){Pe(o,r,i,a,u,"throw",e)}a(void 0)}))}}function Ae(){return xe.apply(this,arguments)}function xe(){return(xe=je(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Oe(Oe({},Ie()),Ce()),e.prev=1,e.t0=Object,e.t1=t,e.next=6,le("env");case 6:return e.t2=e.sent,e.abrupt("return",e.t0.assign.call(e.t0,e.t1,e.t2));case 10:return e.prev=10,e.t3=e.catch(1),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Ee(e){return Object.assign(e,Ce())}function Ie(){return{puzzles:ce,globals:{size:9,mistakeTimeoutMs:600},templates:Oe({option:re("option-template"),optionToggle:re("option-toggle-template"),optionNum:re("option-num-template"),square:re("square-template"),combo:re("combo-template"),squareInfoPossibility:re("square-info_possibility-template"),filterPossibility:re("filter-possibility-template"),infoLabel:re("info-label-template"),spotlight:re("spotlight-template"),spotlightCaption:re("spotlight-caption-template")},(e={},t="caption-content-",document.querySelectorAll('template[id^="'.concat(t,'"]')).forEach((function(n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(t).map((function(e,t){return t>0?e[0].toUpperCase()+e.slice(1):e})).join("")}(n.id.slice(t.length,-1*"-template".length))+"CaptionContent";e[r]=ne(n)})),e))};var e,t}function Ce(){return{snapshots:{},history:[],future:[],puzzleCache:new a(50,6e5)}}function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}n(6755);var Te={};function ke(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:Te}var Ne=Object.assign,Ve=Object.getOwnPropertyDescriptor,De=Object.defineProperty,ze=Object.prototype,Me=[];Object.freeze(Me);var Re={};Object.freeze(Re);var Le="undefined"!=typeof Proxy,Be=Object.toString();function Fe(){Le||qe("Proxy not available")}function Ue(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var He=function(){};function Ke(e){return"function"==typeof e}function Ge(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function We(e){return null!==e&&"object"==typeof e}function $e(e){var t;if(!We(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null==(t=n.constructor)?void 0:t.toString())===Be}function Ye(e,t,n){De(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Xe(e,t,n){De(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Je(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return We(e)&&!0===e[n]}}function Ze(e){return e instanceof Map}function Qe(e){return e instanceof Set}var et=void 0!==Object.getOwnPropertySymbols;var tt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:et?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function nt(e){return null===e?null:"object"==typeof e?""+e:e}function rt(e,t){return ze.hasOwnProperty.call(e,t)}var it=Object.getOwnPropertyDescriptors||function(e){var t={};return tt(e).forEach((function(n){t[n]=Ve(e,n)})),t};function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),e}function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function st(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var pt=Symbol("mobx-stored-annotations");function dt(e){return Object.assign((function(t,n){ht(t,n,e)}),e)}function ht(e,t,n){rt(e,pt)||Ye(e,pt,ut({},e[pt])),function(e){return e.annotationType_===Ot}(n)||(e[pt][t]=n)}var bt=Symbol("mobx administration"),vt=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=hn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return zn(this)},t.reportChanged=function(){Vn(),Mn(this),Dn()},t.toString=function(){return this.name_},e}(),yt=Je("Atom",vt);function gt(e,t,n){void 0===t&&(t=He),void 0===n&&(n=He);var r=new vt(e);return t!==He&&or(rr,r,t,undefined),n!==He&&ir(r,n),r}var mt={identity:function(e,t){return e===t},structural:function(e,t){return _i(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return _i(e,t,1)}};function wt(e,t,n){return hr(e)?e:Array.isArray(e)?Xt.array(e,{name:n}):$e(e)?Xt.object(e,void 0,{name:n}):Ze(e)?Xt.map(e,{name:n}):Qe(e)?Xt.set(e,{name:n}):e}function _t(e){return e}var Ot="override";function St(e,t){return{annotationType_:e,options_:t,make_:Pt,extend_:jt}}function Pt(e,t){for(var n,r,i,o=!1,a=e.target_,u=null!=(n=null==(r=this.options_)?void 0:r.bound)&&n;a&&a!==ze;){var s=Ve(a,t);if(s){if(a===e.target_||u){var l=At(e,this,t,s);if(!e.defineProperty_(t,l))return;if(o=!0,u)break}if(a!==e.target_){if(Qn(s.value)){o=!0;break}var c=At(e,this,t,s,!1);De(a,t,c),o=!0}}a=Object.getPrototypeOf(a)}o?ui(e,0,t):(null==(i=e.target_[pt])?void 0:i[t])||qe(1,this.annotationType_,e.name_+"."+t.toString())}function jt(e,t,n,r){var i=At(e,this,t,n);return e.defineProperty_(t,i,r)}function At(e,t,n,r,i){var o,a,u,s,l,c;void 0===i&&(i=qn.safeDescriptors),c=r,t.annotationType_,c.value;var f,p=r.value;return(null==(o=t.options_)?void 0:o.bound)&&(p=p.bind(null!=(f=e.proxy_)?f:e.target_)),{value:un(null!=(a=null==(u=t.options_)?void 0:u.name)?a:n.toString(),p,null!=(s=null==(l=t.options_)?void 0:l.autoAction)&&s),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function xt(e,t){return{annotationType_:e,options_:t,make_:Et,extend_:It}}function Et(e,t){for(var n,r=!1,i=e.target_;i&&i!==ze;){var o=Ve(i,t);if(o){if(i!==e.target_){if(fr(o.value)){r=!0;break}var a=Ct(e,this,0,o,!1);De(i,t,a)}else{var u=Ct(e,this,0,o);if(!e.defineProperty_(t,u))return}r=!0}i=Object.getPrototypeOf(i)}r?ui(e,0,t):(null==(n=e.target_[pt])?void 0:n[t])||qe(1,this.annotationType_,e.name_+"."+t.toString())}function It(e,t,n,r){var i=Ct(e,this,0,n);return e.defineProperty_(t,i,r)}function Ct(e,t,n,r,i){var o;return void 0===i&&(i=qn.safeDescriptors),o=r,t.annotationType_,o.value,{value:lr(r.value),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function qt(e,t){return{annotationType_:e,options_:t,make_:Tt,extend_:kt}}function Tt(e,t){for(var n,r=e.target_;r&&r!==ze;){var i=Ve(r,t);if(i){if(Nt(0,this,0,i),!e.defineComputedProperty_(t,ut({},this.options_,{get:i.get,set:i.set})))return;return void ui(e,0,t)}r=Object.getPrototypeOf(r)}(null==(n=e.target_[pt])?void 0:n[t])||qe(1,this.annotationType_,e.name_+"."+t.toString())}function kt(e,t,n,r){return Nt(0,this,0,n),e.defineComputedProperty_(t,ut({},this.options_,{get:n.get,set:n.set}),r)}function Nt(e,t,n,r){t.annotationType_,r.get}function Vt(e,t){return{annotationType_:e,options_:t,make_:Dt,extend_:zt}}function Dt(e,t){for(var n,r=e.target_;r&&r!==ze;){var i=Ve(r,t);if(i){var o,a;if(Mt(0,this),!e.defineObservableProperty_(t,i.value,null!=(o=null==(a=this.options_)?void 0:a.enhancer)?o:wt))return;return void ui(e,0,t)}r=Object.getPrototypeOf(r)}(null==(n=e.target_[pt])?void 0:n[t])||qe(1,this.annotationType_,e.name_+"."+t.toString())}function zt(e,t,n,r){var i,o;return Mt(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:wt,r)}function Mt(e,t,n,r){t.annotationType_}var Rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Lt(e){return e||Rt}Object.freeze(Rt);var Bt=Vt("observable"),Ft=Vt("observable.ref",{enhancer:_t}),Ut=Vt("observable.shallow",{enhancer:function(e,t,n){return null==e||ai(e)||Fr(e)||Yr(e)||Zr(e)?e:Array.isArray(e)?Xt.array(e,{name:n,deep:!1}):$e(e)?Xt.object(e,void 0,{name:n,deep:!1}):Ze(e)?Xt.map(e,{name:n,deep:!1}):Qe(e)?Xt.set(e,{name:n,deep:!1}):void 0}}),Ht=Vt("observable.struct",{enhancer:function(e,t){return _i(e,t)?t:e}}),Kt=dt(Bt);function Gt(e){return!0===e.deep?wt:!1===e.deep?_t:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:wt;var t,n,r}function Wt(e,t,n){if(!Ge(t))return hr(e)?e:$e(e)?Xt.object(e,t,n):Array.isArray(e)?Xt.array(e,t):Ze(e)?Xt.map(e,t):Qe(e)?Xt.set(e,t):"object"==typeof e&&null!==e?e:Xt.box(e,t);ht(e,t,Bt)}Object.assign(Wt,Kt);var $t,Yt,Xt=Ne(Wt,{box:function(e,t){var n=Lt(t);return new pn(e,Gt(n),n.name,!0,n.equals)},array:function(e,t){var n=Lt(t);return(!1===qn.useProxies||!1===n.proxy?bi:kr)(e,Gt(n),n.name)},map:function(e,t){var n=Lt(t);return new $r(e,Gt(n),n.name)},set:function(e,t){var n=Lt(t);return new Jr(e,Gt(n),n.name)},object:function(e,t,n){return function(e,t,n,r){var i=it(t),o=ri(e,r)[bt];Vn();try{tt(i).forEach((function(e){o.extend_(e,i[e],!n||!(e in n)||n[e])}))}finally{Dn()}return e}(!1===qn.useProxies||!1===(null==n?void 0:n.proxy)?ri({},n):function(e,t){var n,r;return Fe(),null!=(r=(n=(e=ri(e,t))[bt]).proxy_)?r:n.proxy_=new Proxy(e,Or)}({},n),e,t)},ref:dt(Ft),shallow:dt(Ut),deep:Kt,struct:dt(Ht)}),Jt="computed",Zt=qt(Jt),Qt=qt("computed.struct",{equals:mt.structural}),en=function(e,t){if(Ge(t))return ht(e,t,Zt);if($e(e))return dt(qt(Jt,e));var n=$e(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new vn(n)};Object.assign(en,Zt),en.struct=dt(Qt);var tn,nn=0,rn=1,on=null!=($t=null==(Yt=Ve((function(){}),"name"))?void 0:Yt.configurable)&&$t,an={value:"action",configurable:!0,writable:!1,enumerable:!1};function un(e,t,n,r){function i(){return sn(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,on&&(an.value=e,Object.defineProperty(i,"name",an)),i}function sn(e,t,n,r,i){var o=function(e,t,n,r){var i=qn.trackingDerivation,o=!t||!i;Vn();var a=qn.allowStateChanges;o&&(Pn(),a=ln(!0));var u={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:An(!0),notifySpy_:!1,startTime_:0,actionId_:rn++,parentActionId_:nn};return nn=u.actionId_,u}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){nn!==e.actionId_&&qe(30),nn=e.parentActionId_,void 0!==e.error_&&(qn.suppressReactionErrors=!0),cn(e.prevAllowStateChanges_),xn(e.prevAllowStateReads_),Dn(),e.runAsAction_&&jn(e.prevDerivation_),qn.suppressReactionErrors=!1}(o)}}function ln(e){var t=qn.allowStateChanges;return qn.allowStateChanges=e,t}function cn(e){qn.allowStateChanges=e}tn=Symbol.toPrimitive;var fn,pn=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=mt.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}st(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==qn.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(Sr(this)){var t=jr(this,{object:this,type:Cr,newValue:e});if(!t)return qn.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?qn.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Ar(this)&&Er(this,{type:Cr,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Pr(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Cr,newValue:this.value_,oldValue:void 0}),xr(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return nt(this.get())},n[tn]=function(){return this.valueOf()},t}(vt),dn=Je("ObservableValue",pn);fn=Symbol.toPrimitive;var hn,bn,vn=function(){function e(e){this.dependenciesState_=hn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=hn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new gn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=bn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||qe(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=un("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?mt.structural:mt.default),this.scope_=e.context,this.requiresReaction_=!!e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){e.lowestObserverState_===hn.UP_TO_DATE_&&(e.lowestObserverState_=hn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===hn.UP_TO_DATE_&&(e.dependenciesState_=hn.POSSIBLY_STALE_,e.onBecomeStale_())})))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&qe(32,this.name_,this.derivation),0!==qn.inBatch||0!==this.observers_.size||this.keepAlive_){if(zn(this),wn(this)){var e=qn.trackingContext;this.keepAlive_&&!e&&(qn.trackingContext=this),this.trackAndCompute()&&function(e){e.lowestObserverState_!==hn.STALE_&&(e.lowestObserverState_=hn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===hn.POSSIBLY_STALE_?t.dependenciesState_=hn.STALE_:t.dependenciesState_===hn.UP_TO_DATE_&&(e.lowestObserverState_=hn.UP_TO_DATE_)})))}(this),qn.trackingContext=e}}else wn(this)&&(this.warnAboutUntrackedRead_(),Vn(),this.value_=this.computeValue_(!1),Dn());var t=this.value_;if(mn(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&qe(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else qe(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===hn.NOT_TRACKING_,n=this.computeValue_(!0),r=t||mn(e)||mn(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=ln(!1);if(e)t=_n(this,this.derivation,this.scope_);else if(!0===qn.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new gn(e)}return cn(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(On(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return er((function(){var o=n.get();if(!r||t){var a=Pn();e({observableKind:"computed",debugObjectName:n.name_,type:Cr,object:n,newValue:o,oldValue:i}),jn(a)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return nt(this.get())},t[fn]=function(){return this.valueOf()},e}(),yn=Je("ComputedValue",vn);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(hn||(hn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(bn||(bn={}));var gn=function(e){this.cause=void 0,this.cause=e};function mn(e){return e instanceof gn}function wn(e){switch(e.dependenciesState_){case hn.UP_TO_DATE_:return!1;case hn.NOT_TRACKING_:case hn.STALE_:return!0;case hn.POSSIBLY_STALE_:for(var t=An(!0),n=Pn(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(yn(a)){if(qn.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return jn(n),xn(t),!0}if(e.dependenciesState_===hn.STALE_)return jn(n),xn(t),!0}}return En(e),jn(n),xn(t),!1}}function _n(e,t,n){var r=An(!0);En(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++qn.runId;var i,o=qn.trackingDerivation;if(qn.trackingDerivation=e,qn.inBatch++,!0===qn.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new gn(e)}return qn.inBatch--,qn.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=hn.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var u=n[a];0===u.diffValue_&&(u.diffValue_=1,i!==a&&(n[i]=u),i++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var s=t[o];0===s.diffValue_&&kn(s,e),s.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,Tn(l,e))}r!==hn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),xn(r),i}function On(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)kn(t[n],e);e.dependenciesState_=hn.NOT_TRACKING_}function Sn(e){var t=Pn();try{return e()}finally{jn(t)}}function Pn(){var e=qn.trackingDerivation;return qn.trackingDerivation=null,e}function jn(e){qn.trackingDerivation=e}function An(e){var t=qn.allowStateReads;return qn.allowStateReads=e,t}function xn(e){qn.allowStateReads=e}function En(e){if(e.dependenciesState_!==hn.UP_TO_DATE_){e.dependenciesState_=hn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=hn.UP_TO_DATE_}}var In=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Cn=!0,qn=function(){var e=ke();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Cn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new In).version&&(Cn=!1),Cn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new In):(setTimeout((function(){qe(35)}),1),new In)}();function Tn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function kn(e,t){e.observers_.delete(t),0===e.observers_.size&&Nn(e)}function Nn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,qn.pendingUnobservations.push(e))}function Vn(){qn.inBatch++}function Dn(){if(0==--qn.inBatch){Ln();for(var e=qn.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof vn&&n.suspend_())}qn.pendingUnobservations=[]}}function zn(e){var t=qn.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&qn.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&qn.inBatch>0&&Nn(e),!1)}function Mn(e){e.lowestObserverState_!==hn.STALE_&&(e.lowestObserverState_=hn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===hn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=hn.STALE_})))}var Rn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=hn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=bn.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,qn.pendingReactions.push(this),Ln())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Vn(),this.isScheduled_=!1;var e=qn.trackingContext;if(qn.trackingContext=this,wn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}qn.trackingContext=e,Dn()}},t.track=function(e){if(!this.isDisposed_){Vn(),this.isRunning_=!0;var t=qn.trackingContext;qn.trackingContext=this;var n=_n(this,e,void 0);qn.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&On(this),mn(n)&&this.reportExceptionInDerivation_(n.cause),Dn()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(qn.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";qn.suppressReactionErrors||console.error(n,e),qn.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Vn(),On(this),Dn()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[bt]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){qe("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=mr(n);if(!i)return qe("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===bn.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled"),i.isTracing_=e?bn.BREAK:bn.LOG}(this,e)},e}();function Ln(){qn.inBatch>0||qn.isRunningReactions||Bn()}function Bn(){qn.isRunningReactions=!0;for(var e=qn.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}qn.isRunningReactions=!1}var Fn=Je("Reaction",Rn),Un="action",Hn="autoAction",Kn=St(Un),Gn=St("action.bound",{bound:!0}),Wn=St(Hn,{autoAction:!0}),$n=St("autoAction.bound",{autoAction:!0,bound:!0});function Yn(e){return function(t,n){return Ke(t)?un(t.name||"<unnamed action>",t,e):Ke(n)?un(t,n,e):Ge(n)?ht(t,n,e?Wn:Kn):Ge(t)?dt(St(e?Hn:Un,{name:t,autoAction:e})):void 0}}var Xn=Yn(!1);Object.assign(Xn,Kn);var Jn=Yn(!0);function Zn(e){return sn(e.name,!1,e,this,void 0)}function Qn(e){return Ke(e)&&!0===e.isMobxAction}function er(e,t){var n,r;void 0===t&&(t=Re);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var a=nr(t),u=!1;i=new Rn(o,(function(){u||(u=!0,a((function(){u=!1,i.isDisposed_||i.track(s)})))}),t.onError,t.requiresObservable)}else i=new Rn(o,(function(){this.track(s)}),t.onError,t.requiresObservable);function s(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Jn,Wn),Xn.bound=dt(Gn),Jn.bound=dt($n);var tr=function(e){return e()};function nr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:tr}var rr="onBO";function ir(e,t,n){return or("onBUO",e,t,n)}function or(e,t,n,r){var i="function"==typeof r?vi(t,n):vi(t),o=Ke(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var ar=0;function ur(){this.message="FLOW_CANCELLED"}ur.prototype=Object.create(Error.prototype);var sr=xt("flow"),lr=Object.assign((function(e,t){if(Ge(t))return ht(e,t,sr);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++ar,a=Xn(r+" - runid: "+o+" - init",n).apply(t,i),u=void 0,s=new Promise((function(t,n){var i=0;function s(e){var t;u=void 0;try{t=Xn(r+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(e){return n(e)}c(t)}function l(e){var t;u=void 0;try{t=Xn(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(e){return n(e)}c(t)}function c(e){if(!Ke(null==e?void 0:e.then))return e.done?t(e.value):(u=Promise.resolve(e.value)).then(s,l);e.then(c,n)}e=n,s(void 0)}));return s.cancel=Xn(r+" - runid: "+o+" - cancel",(function(){try{u&&cr(u);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(He,He),cr(n),e(new ur)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),sr);function cr(e){Ke(e.cancel)&&e.cancel()}function fr(e){return!0===(null==e?void 0:e.isMobXFlow)}function pr(e,t,n){var r;return Yr(e)||Fr(e)||dn(e)?r=yi(e):ai(e)&&(r=yi(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function dr(e,t,n){return Ke(n)?function(e,t,n){return yi(e,t).intercept_(n)}(e,t,n):function(e,t){return yi(e).intercept_(t)}(e,t)}function hr(e){return function(e,t){return!!e&&(void 0!==t?!!ai(e)&&e[bt].values_.has(t):ai(e)||!!e[bt]||yt(e)||Fn(e)||yn(e))}(e)}function br(e){return ai(e)?e[bt].keys_():Yr(e)||Zr(e)?Array.from(e.keys()):Fr(e)?e.map((function(e,t){return t})):void qe(5)}function vr(e){return ai(e)?br(e).map((function(t){return e[t]})):Yr(e)?br(e).map((function(t){return e.get(t)})):Zr(e)?Array.from(e.values()):Fr(e)?e.slice():void qe(6)}function yr(e,t,n){if(2!==arguments.length||Zr(e))ai(e)?e[bt].set_(t,n):Yr(e)?e.set(t,n):Zr(e)?e.add(t):Fr(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&qe("Invalid index: '"+t+"'"),Vn(),t>=e.length&&(e.length=t+1),e[t]=n,Dn()):qe(8);else{Vn();var r=t;try{for(var i in r)yr(e,i,r[i])}finally{Dn()}}}function gr(e,t,n,r){return Ke(n)?function(e,t,n,r){return yi(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return yi(e).observe_(t,n)}(e,t,n)}function mr(e){switch(e.length){case 0:return qn.trackingDerivation;case 1:return vi(e[0]);case 2:return vi(e[0],e[1])}}function wr(e,t){void 0===t&&(t=void 0),Vn();try{return e.apply(t)}finally{Dn()}}function _r(e){return e[bt]}var Or={has:function(e,t){return _r(e).has_(t)},get:function(e,t){return _r(e).get_(t)},set:function(e,t,n){var r;return!!Ge(t)&&(null==(r=_r(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!Ge(t)&&(null==(n=_r(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=_r(e).defineProperty_(t,n))||r},ownKeys:function(e){return _r(e).ownKeys_()},preventExtensions:function(e){qe(13)}};function Sr(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Pr(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Ue((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function jr(e,t){var n=Pn();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&qe(14),t);i++);return t}finally{jn(n)}}function Ar(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function xr(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Ue((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Er(e,t){var n=Pn(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);jn(n)}}var Ir="splice",Cr="update",qr={get:function(e,t){var n=e[bt];return t===bt?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?rt(Nr,t)?Nr[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[bt];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){qe(15)}},Tr=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new vt(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Pr(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),xr(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||e<0)&&qe("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&qe(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&hi(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=Me),Sr(this)){var o=jr(this,{object:this.proxy_,type:Ir,index:e,removedCount:t,added:n});if(!o)return Me;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var u=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length=e+n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var u=0;u<o.length;u++)this.values_[e+n.length+u]=o[u];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Ar(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Cr,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Er(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Ar(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ir,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Er(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(Sr(this)){var i=jr(this,{type:Cr,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):qe(17,e,n.length)},e}();function kr(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Fe();var i=new Tr(n,t,r,!1);Xe(i.values_,bt,i);var o=new Proxy(i.values_,qr);if(i.proxy_=o,e&&e.length){var a=ln(!0);i.spliceWithArray_(0,0,e),cn(a)}return o}var Nr={clear:function(){return this.splice(0)},replace:function(e){var t=this[bt];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[bt];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[bt].spliceWithArray_(e,t,n)},push:function(){for(var e=this[bt],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[bt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[bt],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return qn.trackingDerivation&&qe(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){qn.trackingDerivation&&qe(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[bt],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Vr(e,t){"function"==typeof Array.prototype[e]&&(Nr[e]=t(e))}function Dr(e){return function(){var t=this[bt];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function zr(e){return function(t,n){var r=this,i=this[bt];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Mr(e){return function(){var t=this,n=this[bt];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Vr("concat",Dr),Vr("flat",Dr),Vr("includes",Dr),Vr("indexOf",Dr),Vr("join",Dr),Vr("lastIndexOf",Dr),Vr("slice",Dr),Vr("toString",Dr),Vr("toLocaleString",Dr),Vr("every",zr),Vr("filter",zr),Vr("find",zr),Vr("findIndex",zr),Vr("flatMap",zr),Vr("forEach",zr),Vr("map",zr),Vr("some",zr),Vr("reduce",Mr),Vr("reduceRight",Mr);var Rr,Lr,Br=Je("ObservableArrayAdministration",Tr);function Fr(e){return We(e)&&Br(e[bt])}var Ur={},Hr="add",Kr="delete";Rr=Symbol.iterator,Lr=Symbol.toStringTag;var Gr,Wr,$r=function(){function e(e,t,n){void 0===t&&(t=wt),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[bt]=Ur,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,Ke(Map)||qe(18),this.keysAtom_=gt("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(e)}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!qn.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new pn(this.has_(e),_t,"ObservableMap.key?",!1);this.hasMap_.set(e,r),ir(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(Sr(this)){var r=jr(this,{type:n?Cr:Hr,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,Sr(this)&&!jr(this,{type:Kr,object:this,name:e}))return!1;if(this.has_(e)){var n=Ar(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Kr,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return wr((function(){t.keysAtom_.reportChanged(),t.updateHasMapEntry_(e,!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Er(this,r),!0}return!1},t.updateHasMapEntry_=function(e,t){var n=this.hasMap_.get(e);n&&n.setNewValue_(t)},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==qn.UNCHANGED){var r=Ar(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Cr,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&Er(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,wr((function(){var r=new pn(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,n.updateHasMapEntry_(e,!0),n.keysAtom_.reportChanged()}));var r=Ar(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Hr,object:this,name:e,newValue:t}:null;r&&Er(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Pi({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Pi({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Rr]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=ft(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return Yr(e)&&(e=new Map(e)),wr((function(){$e(e)?function(e){var t=Object.keys(e);if(!et)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return ze.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):Ze(e)?(e.constructor!==Map&&qe(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&qe(20,e)})),this},t.clear=function(){var e=this;wr((function(){Sn((function(){for(var t,n=ft(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return wr((function(){for(var n,r=function(e){if(Ze(e)||Yr(e))return e;if(Array.isArray(e))return new Map(e);if($e(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return qe(21,e)}(e),i=new Map,o=!1,a=ft(t.data_.keys());!(n=a()).done;){var u=n.value;if(!r.has(u))if(t.delete(u))o=!0;else{var s=t.data_.get(u);i.set(u,s)}}for(var l,c=ft(r.entries());!(l=c()).done;){var f=l.value,p=f[0],d=f[1],h=t.data_.has(p);if(t.set(p,d),t.data_.has(p)){var b=t.data_.get(p);i.set(p,b),h||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),y=i.keys(),g=v.next(),m=y.next();!g.done;){if(g.value!==m.value){t.keysAtom_.reportChanged();break}g=v.next(),m=y.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return xr(this,e)},t.intercept_=function(e){return Pr(this,e)},at(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Lr,get:function(){return"Map"}}]),e}(),Yr=Je("ObservableMap",$r),Xr={};Gr=Symbol.iterator,Wr=Symbol.toStringTag;var Jr=function(){function e(e,t,n){void 0===t&&(t=wt),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[bt]=Xr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,Ke(Set)||qe(22),this.atom_=gt(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;wr((function(){Sn((function(){for(var t,n=ft(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=ft(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,Sr(this)&&!jr(this,{type:Hr,object:this,newValue:e}))return this;if(!this.has(e)){wr((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=Ar(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Hr,object:this,newValue:e}:null;n&&Er(this,r)}return this},t.delete=function(e){var t=this;if(Sr(this)&&!jr(this,{type:Kr,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Ar(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Kr,object:this,oldValue:e}:null;return wr((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Er(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Pi({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Pi({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Zr(e)&&(e=new Set(e)),wr((function(){Array.isArray(e)||Qe(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&qe("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return xr(this,e)},t.intercept_=function(e){return Pr(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Gr]=function(){return this.values()},at(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Wr,get:function(){return"Set"}}]),e}(),Zr=Je("ObservableSet",Jr),Qr=Symbol("mobx-inferred-annotations"),ei=Object.create(null),ti="remove",ni=function(){function e(e,t,n,r,i){void 0===t&&(t=new Map),void 0===r&&(r=Xt),void 0===i&&(i=!1),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.autoBind_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.autoBind_=i,this.keysAtom_=new vt("ObservableObject.keys"),this.isPlainObject_=$e(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof vn)return n.set(t),!0;if(Sr(this)){var r=jr(this,{type:Cr,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==qn.UNCHANGED){var i=Ar(this),o=i?{type:Cr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&Er(this,o)}return!0},t.get_=function(e){return qn.trackingDerivation&&!rt(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),rt(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!qn.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new pn(e in this.target_,_t,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){!0===t&&(t=this.inferAnnotation_(e)),!1!==t&&t.make_(this,e)},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=Ai(t,this.defaultAnnotation_,this.autoBind_)),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&ui(this,0,e),i},t.inferAnnotation_=function(e){var t,n=null==(t=this.target_[Qr])?void 0:t.get(e);if(n)return n;for(var r=this.target_;r&&r!==ze;){var i=Ve(r,e);if(i){n=Ai(i,this.defaultAnnotation_,this.autoBind_);break}r=Object.getPrototypeOf(r)}if(void 0===n&&qe(1,"true",e),!this.isPlainObject_){var o=Object.getPrototypeOf(this.target_);rt(o,Qr)||Ye(o,Qr,new Map),o[Qr].set(e,n)}return n},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{Vn();var r=this.delete_(e);if(!r)return r;if(Sr(this)){var i=jr(this,{object:this.proxy_||this.target_,name:e,type:Hr,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=ut({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else De(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Dn()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{Vn();var i=this.delete_(e);if(!i)return i;if(Sr(this)){var o=jr(this,{object:this.proxy_||this.target_,name:e,type:Hr,newValue:t});if(!o)return null;t=o.newValue}var a=oi(e),u={configurable:!qn.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,u))return!1}else De(this.target_,e,u);var s=new pn(t,n,"ObservableObject.key",!1);this.values_.set(e,s),this.notifyPropertyAddition_(e,s.value_)}finally{Dn()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{Vn();var r=this.delete_(e);if(!r)return r;if(Sr(this)&&!jr(this,{object:this.proxy_||this.target_,name:e,type:Hr,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=oi(e),o={configurable:!qn.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else De(this.target_,e,o);this.values_.set(e,new vn(t)),this.notifyPropertyAddition_(e,void 0)}finally{Dn()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!rt(this.target_,e))return!0;if(Sr(this)&&!jr(this,{object:this.proxy_||this.target_,name:e,type:ti}))return null;try{var n,r;Vn();var i,o=Ar(this),a=this.values_.get(e),u=void 0;if(!a&&o&&(u=null==(i=Ve(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof pn&&(u=a.value_),Mn(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var s={type:ti,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:e};o&&Er(this,s)}}finally{Dn()}return!0},t.observe_=function(e,t){return xr(this,e)},t.intercept_=function(e){return Pr(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=Ar(this);if(i){var o=i?{type:Hr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&Er(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),tt(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ri(e,t){var n;if(rt(e,bt))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new ni(e,new Map,String(r),function(e){return e?!0===e.deep?Bt:!1===e.deep?Ft:e.defaultDecorator:void 0}(t),null==t?void 0:t.autoBind);return Ye(e,bt,i),e}var ii=Je("ObservableObjectAdministration",ni);function oi(e){return ei[e]||(ei[e]={get:function(){return this[bt].getObservablePropValue_(e)},set:function(t){return this[bt].setObservablePropValue_(e,t)}})}function ai(e){return!!We(e)&&ii(e[bt])}function ui(e,t,n){var r;null==(r=e.target_[pt])||delete r[n]}var si,li,ci=0,fi=function(){};si=fi,li=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(si.prototype,li):void 0!==si.prototype.__proto__?si.prototype.__proto__=li:si.prototype=li;var pi=function(e){function t(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new Tr(r,n,i,!0);if(a.proxy_=lt(o),Xe(lt(o),bt,a),t&&t.length){var u=ln(!0);o.spliceWithArray(0,0,t),cn(u)}return o}st(t,e);var n=t.prototype;return n.concat=function(){this[bt].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Fr(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return Pi({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},at(t,[{key:"length",get:function(){return this[bt].getArrayLength_()},set:function(e){this[bt].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),t}(fi);function di(e){De(pi.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[bt].get_(e)},set:function(t){this[bt].set_(e,t)}}}(e))}function hi(e){if(e>ci){for(var t=ci;t<e+100;t++)di(t);ci=e}}function bi(e,t,n){return new pi(e,t,n)}function vi(e,t){if("object"==typeof e&&null!==e){if(Fr(e))return void 0!==t&&qe(23),e[bt].atom_;if(Zr(e))return e[bt];if(Yr(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||qe(25,t,gi(e)),n}if(ai(e)){if(!t)return qe(26);var r=e[bt].values_.get(t);return r||qe(27,t,gi(e)),r}if(yt(e)||yn(e)||Fn(e))return e}else if(Ke(e)&&Fn(e[bt]))return e[bt];qe(28)}function yi(e,t){return e||qe(29),void 0!==t?yi(vi(e,t)):yt(e)||yn(e)||Fn(e)||Yr(e)||Zr(e)?e:e[bt]?e[bt]:void qe(24,e)}function gi(e,t){var n;if(void 0!==t)n=vi(e,t);else{if(Qn(e))return e.name;n=ai(e)||Yr(e)||Zr(e)?yi(e):vi(e)}return n.name_}Object.entries(Nr).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&Ye(pi.prototype,t,n)})),hi(1e3);var mi,wi=ze.toString;function _i(e,t,n){return void 0===n&&(n=-1),Oi(e,t,n)}function Oi(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if(!Ke(o)&&"object"!==o&&"object"!=typeof t)return!1;var a=wi.call(e);if(a!==wi.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Si(e),t=Si(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(Ke(s)&&s instanceof s&&Ke(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),u){if((c=e.length)!==t.length)return!1;for(;c--;)if(!Oi(e[c],t[c],n-1,r,i))return!1}else{var f,p=Object.keys(e);if(c=p.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!rt(t,f=p[c])||!Oi(e[f],t[f],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Si(e){return Fr(e)?e.slice():Ze(e)||Yr(e)||Qe(e)||Zr(e)?Array.from(e.entries()):e}function Pi(e){return e[Symbol.iterator]=ji,e}function ji(){return this}function Ai(e,t,n){return e.get?en:!e.set&&(Ke(e.value)?!(i=null==(r=e.value)?void 0:r.constructor)||"GeneratorFunction"!==i.name&&"GeneratorFunction"!==i.displayName?!Qn(e.value)&&(n?Jn.bound:Jn):!fr(e.value)&&lr:t);var r,i}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ei(e){var t=e.gameStore,n=e.env.templates,r=e.elements.puzzleEle,i=new DocumentFragment,o=t.puzzle.squaresArray.map((function(e){var t=n.square.cloneNode(!0),r=function(e){return{squareEle:e,cageTop:e.querySelector(".square_cage-top"),cageLeft:e.querySelector(".square_cage-left"),label:e.querySelector(".square_label"),value:e.querySelector(".square_value"),possibilityEles:e.querySelectorAll(".square_possibility")}}(t);return function(e,t){var n=t.squareEle,r=t.label,i=t.cageTop,o=t.cageLeft;n.dataset.pos=e.dataPos,n.dataset.id=e.id,r.innerText=e.label,e.isCageTop||i.remove(),e.isCageLeft||o.remove()}(e,r),i.appendChild(t),function(e,t){var n,r=t.squareEle,i=t.value,o=t.possibilityEles,a=Array.from(o).map((function(t){return function(){var n=parseInt(t.dataset.val);t.className=e.possibilityClassName(n)}})),u=[function(){i.innerText=e.displayedValue},function(){r.className=e.className}].concat((n=a,function(e){if(Array.isArray(e))return xi(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xi(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(e){return er(e)}));return function(){return u.forEach((function(e){return e()}))}}(e,r)}));return r.replaceChildren(i),function(){return o.forEach((function(e){return e()}))}}function Ii(e){return document.querySelector(qi(e))}function Ci(e){var t=function(e){var t=function(t){return[qi(e),t].join(" ")};return{getChild:function(e){return document.querySelector(t(e))},getChildren:function(e){return document.querySelectorAll(t(e))}}}(e),n=t.getChild,r=t.getChildren;return{squareEle:Ii(e,parent),cageTop:n(".square_cage-top"),cageLeft:n(".square_cage-left"),label:n(".square_label"),value:n(".square_value"),possibilityEles:r(".square_possibility")}}function qi(e){return'.square[data-id="'.concat(e,'"]')}function Ti(e){return mi=Ei(e)}function ki(e){var t=e.gameStore,n=e.env,r=e.elements,i=e.elements.headerEles,o=i.aboutButton,a=i.aboutDropdown,u=i.instructionsButton,s=i.instructionsDropdown,l=i.optionsButton,c=i.optionsDropdown,f=i.undoButton,p=i.redoButton,d=i.newButton,h=i.resetButton;ee(o,a,"show"),ee(u,s,"show"),ee(l,c,"show"),te(f,t.undo),te(p,t.redo),te(d,(function(){return function(e){var t;null===(t=mi)||void 0===t||t(),e.gameStore.newPuzzle(),Ee(e.env),mi=Ei(e)}({gameStore:t,env:n,elements:r})})),te(h,(function(){return function(e){e.gameStore.resetPuzzle(),Ee(e.env)}({gameStore:t,env:n,elements:r})}))}["Symbol","Map","Set","Symbol"].forEach((function(e){void 0===ke()[e]&&qe("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:gi},$mobx:bt});var Ni;!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(Ni||(Ni={}));var Vi=function(e,t){return(Vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Di(e,t){function n(){this.constructor=e}Vi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var zi=function(){return(zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Mi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Li(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ri(arguments[t]));return e}function Bi(e){return Io(e,1),Co(e).type}function Fi(e,t){Io(e,1),ea(),Co(e).applyPatches(Ko(t))}function Ui(e,t){return Io(e,1),Co(e).applySnapshot(t)}function Hi(e,t){void 0===t&&(t=!0),Io(e,1);var n=Co(e);return t?n.snapshot:n.type.getSnapshot(n,!1)}function Ki(e){return Io(e,1),Co(e).root.storedValue}var Gi=function(){function e(e,t,n,r){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:So.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new Jo),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=gt("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?aa(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==So.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===So.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=gt("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===So.CREATED){if(this.parent){if(this.parent.state!==So.FINALIZED)return;this.fireHook(Ni.afterAttach)}this.state=So.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=So.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(Ni.beforeDestroy)}}),e}(),Wi=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(e){throw a.state=So.DEAD,e}return a.state=So.CREATED,a.finalizeCreation(),a}return Di(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw Bo("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.parent!==e,r=this.subpath!==t;(n||r)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==So.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(Gi);Wi.prototype.die=Xn(Wi.prototype.die);var $i,Yi,Xi=1,Ji={onError:function(e){throw e}},Zi=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;if(Object.defineProperty(a,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++Xi}),Object.defineProperty(a,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(a,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a._snapshotComputed=en((function(){return a.getSnapshot()})),a.unbox=a.unbox.bind(a),a._initialSnapshot=o,a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new jo),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var u=a._initialSnapshot[a.identifierAttribute];if(void 0===u){var s=a._childNodes[a.identifierAttribute];s&&(u=s.value)}if("string"!=typeof u&&"number"!=typeof u)throw Bo("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=ru(u),a.unnormalizedIdentifier=u}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return Di(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this._observableInstanceState&&this.createObservableInstance()}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this._observableInstanceState=1;for(var n=[],r=this.parent;r&&0===r._observableInstanceState;)n.unshift(r),r=r.parent;try{for(var i=Mi(n),o=i.next();!o.done;o=i.next())o.value.createObservableInstanceIfNeeded()}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var a=this.type;try{this.storedValue=a.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,a.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=So.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=Ro,this.state=So.CREATED,this.fireHook(Ni.afterCreate),this.finalizeCreation()}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(Ni.beforeDetach);var e=this.state;this.state=So.DETACHING;var t=this.root,n=t.environment,r=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e!==this.parent,r=t!==this.subpath;(n||r)&&(n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(Ni.afterAttach)):r&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(Zn?Zn((function(){n.apply(t.storedValue)})):n.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;if(!this.isAlive){var n=this._getAssertAliveError(e);t=n,console.warn(new Error("[mobx-state-tree] "+t))}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&aa(e.subpath)||"",r=e.actionContext||lo();r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var i,o="";return r&&null!=r.name&&(o=(r&&r.context&&(Io(i=r.context,1),Co(i).path)||t)+"."+r.name+"()"),"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+o+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(Ro),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):Do(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw Bo("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation((function(){var t,n;try{for(var r=Mi(e.getChildren()),i=r.next();!i.done;i=r.next())i.value.finalizeCreation()}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.fireInternalHook(Ni.afterCreationFinalization)}))}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw Bo("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=ho(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){if(t.path){var n=la(t.path);Vo(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)}else e.type.applySnapshot(e,t.value)}))})),this._applySnapshot=ho(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),Yo(this.storedValue,"$treenode",this),Yo(this.storedValue,"toJSON",To)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==So.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=Ri(function(e){if(!("oldValue"in e))throw Bo("Patches without `oldValue` field cannot be inversed");return[ia(e),oa(e)]}(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),2),r=n[0],i=n[1];this._internalEventsEmit("patch",r,i)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw Bo("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw Bo("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=function(t,n,r){var i;void 0===r&&(r=Re);var o,a,u,s=null!=(i=r.name)?i:"Reaction",l=Xn(s,r.onError?(o=r.onError,a=n,function(){try{return a.apply(this,arguments)}catch(e){o.call(this,e)}}):n),c=!r.scheduler&&!r.delay,f=nr(r),p=!0,d=!1,h=void 0,b=r.compareStructural?mt.structural:r.equals||mt.default,v=new Rn(s,(function(){p||c?y():d||(d=!0,f(y))}),r.onError,r.requiresObservable);function y(){if(d=!1,!v.isDisposed_){var t=!1;v.track((function(){var n=function(e,t){var n=ln(e);try{return t()}finally{cn(n)}}(!1,(function(){return e.snapshot}));t=p||!b(u,n),h=u,u=n})),(p&&r.fireImmediately||!p&&t)&&l(u,h,v),p=!1}}return v.schedule_(),v.getDisposer_()}(0,(function(t){return e.emitSnapshot(t)}),Ji);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new Jo),this._internalEvents.register(e,t,n)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,Li([e],n))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(Gi);Zi.prototype.createObservableInstance=Xn(Zi.prototype.createObservableInstance),Zi.prototype.detach=Xn(Zi.prototype.detach),Zi.prototype.die=Xn(Zi.prototype.die),function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(Yi||(Yi={}));var Qi="cannotDetermine",eo=Symbol("$type"),to=function(){function e(e){Object.defineProperty(this,$i,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Oo(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw Bo("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(qo(e)){var n=Bi(e);return this.isAssignableFrom(n)?mo():wo(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw Bo("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw Bo("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw Bo("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw Bo("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();$i=eo,to.prototype.create=Xn(to.prototype.create);var no=function(e){function t(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return Di(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!(e.isDetaching||e.snapshot!==t&&(!Eo(t)||Co(t)!==e)&&(e.type!==this||!Wo(t)||Eo(t)||e.identifierAttribute&&e.identifier!==ru(t[e.identifierAttribute])||(e.applySnapshot(t),0)))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.tryToReconcileNode(e,t))return e.setParent(n,r),e;if(e.die(),Eo(t)&&this.isAssignableFrom(Bi(t))){var i=Co(t);return i.setParent(n,r),i}return this.instantiate(n,r,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(to);no.prototype.create=Xn(no.prototype.create);var ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Di(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(n,r,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(to);function io(e){return"object"==typeof e&&e&&!0===e.isType}function oo(e,t){ea()}function ao(e){return{$MST_UNSERIALIZABLE:!0,type:e}}new Map,function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var uo,so=1;function lo(){return uo}function co(){return so++}function fo(e,t){var n=Co(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var i=uo;uo=e;try{return function(e,t,n){var r=new bo(e,n);if(r.isEmpty)return Xn(n).apply(null,t.args);var i=null;return function e(t){var o=r.getNextMiddleware(),a=o&&o.handler;return a?!o.includeHooks&&Ni[t.name]?e(t):(a(t,(function(t,n){i=e(t),n&&(i=n(i))}),(function(e){i=e})),i):Xn(n).apply(null,t.args)}(t)}(n,e,t)}finally{uo=i,n._isRunningAction=r}}function po(e){if(e)return"action"===e.type?e:e.parentActionEvent}function ho(e,t,n){var r=function(){var r=co(),i=uo,o=po(i);return fo({type:"action",name:t,id:r,args:Zo(arguments),context:e,tree:Ki(e),rootId:i?i.rootId:r,parentId:i?i.id:0,allParentIds:i?Li(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},n)};return r._isMSTAction=!0,r}var bo=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var n=e;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e)return e[this.inArrayIndex++]||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}),e}();function vo(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":Eo(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function yo(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=r.length>0?'at path "/'+r+'" ':"",o=Eo(t)?"value of type "+Co(t).type.name+":":$o(t)?"value":"snapshot",a=n&&Eo(t)&&n.is(Co(t).snapshot);return""+i+o+" "+vo(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?function(e){return io(e)&&(e.flags&(Yi.String|Yi.Number|Yi.Integer|Yi.Boolean|Yi.Date))>0}(n)||$o(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function go(e,t,n){return e.concat([{path:t,type:n}])}function mo(){return Mo}function wo(e,t,n){return[{context:e,value:t,message:n}]}function _o(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Oo(e,t){"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK&&function(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw Bo(function(e,t,n){var r;if(0!==n.length)return"Error while converting "+(((r=vo(t)).length<280?r:r.substring(0,272)+"......"+r.substring(r.length-8))+" to `")+e.name+"`:\n\n    "+n.map(yo).join("\n    ")}(e,t,n))}(e,t)}var So,Po=0,jo=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:Po++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:Xt.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:Xt.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,Xt.array([],Lo));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw Bo("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;vr(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n,r=this,i=new e,o=t.path;return(n=this.cache,ai(n)?br(n).map((function(e){return[e,n[e]]})):Yr(n)?br(n).map((function(e){return[e,n.get(e)]})):Zr(n)?Array.from(n.entries()):Fr(n)?n.map((function(e,t){return[t,e]})):void qe(7)).forEach((function(e){for(var t=Ri(e,2),n=t[0],a=t[1],u=!1,s=a.length-1;s>=0;s--)0===a[s].path.indexOf(o)&&(i.addNodeToCache(a[s],!1),a.splice(s,1),u=!0);u&&r.updateLastCacheModificationPerId(n)})),i}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);return!!n&&n.some((function(t){return e.isAssignableFrom(t.type)}))}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter((function(t){return e.isAssignableFrom(t.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw Bo("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map((function(e){return e.path})).join(", "))}}}),e}();function Ao(e,t,n,r,i){var o=qo(i);if(o){if(o.parent)throw Bo("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,n),o}return new Zi(e,t,n,r,i)}function xo(e,t,n,r,i){return new Wi(e,t,n,r,i)}function Eo(e){return!(!e||!e.$treenode)}function Io(e,t){ea()}function Co(e){if(!Eo(e))throw Bo("Value "+e+" is no MST Node");return e.$treenode}function qo(e){return e&&e.$treenode||null}function To(){return Co(this).snapshot}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(So||(So={}));var ko=function(e){return".."};function No(e,t){if(e.root!==t.root)throw Bo("Cannot calculate relative path: objects '"+e+"' and '"+t+"' are not part of the same object tree");for(var n=la(e.path),r=la(t.path),i=0;i<n.length&&n[i]===r[i];i++);return n.slice(i).map(ko).join("/")+sa(r.slice(i))}function Vo(e,t,n){void 0===n&&(n=!0);for(var r=e,i=0;i<t.length;i++){var o=t[i];if(".."===o){if(r=r.parent)continue}else{if("."===o)continue;if(r){if(r instanceof Wi)try{var a=r.value;Eo(a)&&(r=Co(a))}catch(e){if(!n)return;throw e}if(r instanceof Zi&&r.getChildType(o)&&(r=r.getChildNode(o)))continue}}if(n)throw Bo("Could not resolve '"+o+"' in path '"+(sa(t.slice(0,i))||"/")+"' while resolving '"+sa(t)+"'");return}return r}function Do(e){if(!e)return Mo;var t=Object.keys(e);if(!t.length)return Mo;var n=new Array(t.length);return t.forEach((function(t,r){n[r]=e[t]})),n}var zo=Object.toString(),Mo=Object.freeze([]),Ro=Object.freeze({}),Lo=qn.useProxies?{deep:!1}:{deep:!1,proxy:!1};function Bo(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function Fo(e){return e}Object.freeze(Lo);var Uo=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Ho(e){return Array.isArray(e)||Fr(e)}function Ko(e){return e?Ho(e)?e:[e]:Mo}function Go(e){var t;if(null===e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===zo}function Wo(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function $o(e,t){return void 0===t&&(t=!0),null==e||!!("string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date)}function Yo(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}var Xo=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.handlers.slice();n.forEach((function(t){return t.apply(void 0,Li(e))}))}}),e}(),Jo=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new Xo),r.register(t,n)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,Li(n))}}),e}();function Zo(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function Qo(e,t){return 0===e.indexOf(t)}function ea(e,t,n,r){}function ta(e,t,n){void 0===n&&(n=!0)}function na(e){"function"==typeof queueMicrotask?queueMicrotask(e):"function"==typeof setImmediate?setImmediate(e):setTimeout(e,1)}function ra(e){return function(e,t){var n=function(){var r=co(),i=lo();if(!i)throw Bo("a mst flow must always have a parent context");var o=po(i);if(!o)throw Bo("a mst flow must always have a parent action context");var a={name:e,id:r,tree:i.tree,context:i.context,parentId:i.id,allParentIds:Li(i.allParentIds,[i.id]),rootId:i.rootId,parentEvent:i,parentActionEvent:o},u=arguments;function s(e,t,r){e.$mst_middleware=n.$mst_middleware,fo(zi(zi({},a),{type:t,args:[r]}),e)}return new Promise((function(e,r){var i,o=function(){i=t.apply(null,arguments),l(void 0)};function l(e){var t;try{s((function(e){t=i.next(e)}),"flow_resume",e)}catch(e){return void na((function(){s((function(t){r(e)}),"flow_throw",e)}))}f(t)}function c(e){var t;try{s((function(e){t=i.throw(e)}),"flow_resume_error",e)}catch(e){return void na((function(){s((function(t){r(e)}),"flow_throw",e)}))}f(t)}function f(t){if(!t.done){if(!t.value||"function"!=typeof t.value.then)throw Bo("Only promises can be yielded to `async`, got: "+t);return t.value.then(l,c)}na((function(){s((function(t){e(t)}),"flow_return",t.value)}))}o.$mst_middleware=n.$mst_middleware,fo(zi(zi({},a),{type:"flow_spawn",args:Zo(u)}),o)}))};return n}(e.name,e)}function ia(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function oa(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function aa(e){return 1==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ua(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function sa(e){if(0===e.length)return"";var t=function(e){return e.map(aa).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}function la(e){var t=e.split("/").map(ua);if(!(""===e||"."===e||".."===e||Qo(e,"/")||Qo(e,"./")||Qo(e,"../")))throw Bo("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}var ca,fa=function(e){function t(t,n,r){var i=e.call(this,r||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return Di(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Yi.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var n,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=Mi(i),u=a.next();!u.done;u=a.next()){var s=u.value;e[s]=t[s].bind(t)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(e.type,this,"create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))}}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=Eo(r)?r:this.preProcessSnapshot(r),o=this._subtype.instantiate(e,t,n,i);return this._fixNode(o),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this._subtype.reconcile(e,Eo(t)?t:this.preProcessSnapshot(t),n,r);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.preProcessSnapshot(e);return this._subtype.validate(n,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=io(e)?this._subtype:Eo(e)?Hi(e,!1):this.preProcessSnapshot(e);return 0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),t}(to),pa="Map.put can only be used to store complex values that have an identifier type attribute";function da(e,t){var n,r,i=e.getSubTypes();if(i===Qi)return!1;if(i){var o=Ko(i);try{for(var a=Mi(o),u=a.next();!u.done;u=a.next())if(!da(u.value,t))return!1}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}return e instanceof Oa&&t.push(e),!0}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(ca||(ca={}));var ha=function(e){function t(t){return e.call(this,t,Xt.ref.enhancer)||this}return Di(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return e.prototype.set.call(this,""+t,n)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw Bo("Map.put cannot be used to set empty values");if(Eo(e)){var t=Co(e);if(null===t.identifier)throw Bo(pa);return this.set(t.identifier,e),e}if(Wo(e)){var n=Co(this),r=n.type;if(r.identifierMode!==ca.YES)throw Bo(pa);var i=e[r.mapIdentifierAttribute];if(!iu(i)){var o=this.put(r.getChildType().create(e,n.environment));return this.put(Hi(o))}var a=ru(i);return this.set(a,e),this.get(a)}throw Bo("Map.put can only be used to store complex values")}}),t}($r),ba=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:ca.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=r,i}return Di(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._determineIdentifierMode(),Ao(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===ca.UNKNOWN){var e=[];if(da(this._subType,e)){var t=void 0;e.forEach((function(e){if(e.identifierAttribute){if(t&&t!==e.identifierAttribute)throw Bo("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier");t=e.identifierAttribute}})),t?(this.identifierMode=ca.YES,this.mapIdentifierAttribute=t):this.identifierMode=ca.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach((function(i){r[i]=n.instantiate(e,i,void 0,t[i])})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new ha(e)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){pr(t,e.unbox),e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=ho(t,e,r);Yo(t,e,i)}))})),dr(t,this.willChange),gr(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return vr(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e.storedValue.get(""+t);if(!n)throw Bo("Not a child "+t);return n}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Co(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,i=r._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(n))return null;Oo(i,o),e.newValue=i.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":Oo(i,e.newValue),e.newValue=i.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===ca.YES&&t instanceof Zi){var n=t.identifier;if(n!==e)throw Bo("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Co(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:aa(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:aa(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:aa(e.name),oldValue:n},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Oo(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach((function(e){r[e]=!1})),t)for(var i in t)n.set(i,t[i]),r[""+i]=!0;Object.keys(r).forEach((function(e){!1===r[e]&&n.delete(e)}))}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return Go(e)?_o(Object.keys(e).map((function(r){return n._subType.validate(e[r],go(t,r,n._subType))}))):wo(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Ro}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(no);ba.prototype.applySnapshot=Xn(ba.prototype.applySnapshot);var va=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=r,i}return Di(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Ao(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach((function(t,i){var o=""+i;r[o]=n.instantiate(e,o,void 0,t)})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Xt.array(Do(e),Lo)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){yi(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=ho(t,e,r);Yo(t,e,i)}))})),dr(t,this.willChange),gr(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw Bo("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Co(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=ya(t,n,[r[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,u=e.added,s=ya(t,n,r.slice(o,o+a),u,u.map((function(e,t){return o+t})));if(!s)return null;e.added=s;for(var l=o+a;l<r.length;l++)r[l].setParent(t,""+(l+u.length-a))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map((function(e){return e.snapshot}))}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n].getSnapshot())})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Co(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue,i="-"===t?r.length:Number(t);switch(n.op){case"replace":r[i]=n.value;break;case"add":r.splice(i,0,n.value);break;case"remove":r.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Oo(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return Ho(e)?_o(e.map((function(e,r){return n._subType.validate(e,go(t,""+r,n._subType))}))):wo(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Mo}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(no);function ya(e,t,n,r,i){for(var o,a=!0,u=0;;u++){var s=u<=r.length-1,l=n[u],c=s?r[u]:void 0,f=""+i[u];if(((o=c)instanceof Wi||o instanceof Zi)&&(c=c.storedValue),!l&&!s)break;if(s)if(l)if(ma(l,c))n[u]=ga(t,e,f,c,l);else{for(var p=void 0,d=u;d<n.length;d++)if(ma(n[d],c)){p=n.splice(d,1)[0];break}a=!1,h=ga(t,e,f,c,p),n.splice(u,0,h)}else{if(Eo(c)&&Co(c).parent===e)throw Bo("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+f+"', but it lives already at '"+Co(c).path+"'");a=!1;var h=ga(t,e,f,c);n.splice(u,0,h)}else a=!1,n.splice(u,1),l instanceof Zi&&l.createObservableInstanceIfNeeded(),l.die(),u--}return a?null:n}function ga(e,t,n,r,i){Oo(e,r);var o=function(){if(Eo(r)){var o=Co(r);if(o.assertAlive(Ro),null!==o.parent&&o.parent===t)return o.setParent(t,n),o}return i?e.reconcile(i,r,t,n):e.instantiate(t,n,void 0,r)}();return i&&i!==o&&(i instanceof Zi&&i.createObservableInstanceIfNeeded(),i.die()),o}function ma(e,t){if(!e.isAlive)return!1;if(Eo(t)){var n=Co(t);return n.isAlive&&n===e}return e.snapshot===t||e instanceof Zi&&null!==e.identifier&&e.identifierAttribute&&Go(t)&&e.identifier===ru(t[e.identifierAttribute])&&e.type.is(t)}va.prototype.applySnapshot=Xn(va.prototype.applySnapshot);function wa(){return Co(this).toString()}var _a={name:"AnonymousModel",properties:{},initializers:Mo};var Oa=function(e){function t(t){var n,r=e.call(this,t.name||_a.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({name:e})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({properties:e})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.preProcessor;return t?r.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):r.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.postProcessor;return t?r.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):r.cloneAndEnhance({postProcessor:e})}}),Object.assign(r,_a,t),r.properties=(n=r.properties,Object.keys(n).reduce((function(e,t){var n,r,i;if(t in Ni)throw Bo("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var o=Object.getOwnPropertyDescriptor(e,t);if("get"in o)throw Bo("Getters are not supported as properties. Please use views instead");var a=o.value;if(null==a)throw Bo("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if($o(a))return Object.assign({},e,((n={})[t]=Ma(function(e){switch(typeof e){case"string":return Pa;case"number":return ja;case"boolean":return xa;case"object":if(e instanceof Date)return qa}throw Bo("Cannot determine primitive type from value "+e)}(a),a),n));if(a instanceof ba)return Object.assign({},e,((r={})[t]=Ma(a,{}),r));if(a instanceof va)return Object.assign({},e,((i={})[t]=Ma(a,[]),i));if(io(a))return e;throw Bo("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+a+"' ("+typeof a+")")}),n)),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return Di(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps((function(t,n){if(n.flags&Yi.Identifier){if(e)throw Bo("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!Go(t))throw Bo("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(n){if("preProcessSnapshot"===n)throw Bo("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===n)throw Bo("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var r=t[n],i=e[n];if(n in Ni&&i){var o=r;r=function(){i.apply(null,arguments),o.apply(null,arguments)}}var a=r.$mst_middleware,u=r.bind(t);u.$mst_middleware=a;var s=ho(e,n,u);t[n]=s,Yo(e,n,s)}))}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!=typeof e)throw Bo("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!Go(t))throw Bo("volatile state initializer should return a plain object containing state");yr(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),i=r.actions,o=r.views,a=r.state,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["actions","views","state"]);for(var s in u)throw Bo("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+s+"'");return a&&t.instantiateVolatileState(n,a),o&&t.instantiateViews(n,o),i&&t.instantiateActions(n,i),n}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!Go(t))throw Bo("views initializer should return a plain object containing views");Object.keys(t).forEach((function(n){var r,i=Object.getOwnPropertyDescriptor(t,n);if("get"in i)if(function(e,t){if(void 0!==t){if(!1===ai(e))return!1;if(!e[bt].values_.has(t))return!1;var n=vi(e,t);return yn(n)}return yn(e)}(e,n)){var o=yi(e,n);o.derivation=i.get,o.scope=e,i.set&&(o.setter=Xn(o.name+"-setter",i.set))}else Object.defineProperty(e,n,i),function(e,t,n){var r=ri(e,n)[bt];Vn();try{null!=t||(t=function(e){return rt(e,pt)||Ye(e,pt,ut({},e[pt])),e[pt]}(e)),tt(t).forEach((function(e){return r.make_(e,t[e])}))}finally{Dn()}}(e,((r={})[n]=en,r));else{if("function"!=typeof i.value)throw Bo("A view member should either be a function or getter based property");Yo(e,n,i.value)}}))}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Ao(this,e,t,n,Eo(r)?r:this.applySnapshotPreProcessor(r))}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps((function(n,i){r[n]=i.instantiate(e,n,void 0,t[n])})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Xt.object(e,Ro,Lo)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Yo(t,"toString",wa),this.forAllProps((function(n){pr(t,n,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),dr(t,this.willChange),gr(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,n=Co(t.object),r=t.name;n.assertWritable({subpath:r});var i=n.type.properties[r];return i&&(Oo(i,t.newValue),t.newValue=i.reconcile(n.getChildNode(r),t.newValue,n,r)),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,n=Co(t.object);if(n.type.properties[t.name]){var r=t.oldValue?t.oldValue.snapshot:void 0;n.emitPatch({op:"replace",path:aa(t.name),value:t.newValue.snapshot,oldValue:r},n)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=[];return this.forAllProps((function(r){n.push(t.getChildNode(e,r))})),n}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(t in this.properties))throw Bo("Not a value property: "+t);var n=yi(e.storedValue,t).raw();if(!n)throw Bo("Node not available for property "+t);return n}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps((function(t,i){vi(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(r):r}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){if("replace"!==n.op&&"add"!==n.op)throw Bo("object does not support operation "+n.op);e.storedValue[t]=n.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.applySnapshotPreProcessor(t);Oo(this,n),this.forAllProps((function(t){e.storedValue[t]=n[t]}))}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return ta(),this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return Go(r)?_o(this.propertyNames.map((function(e){return n.properties[e].validate(r[e],go(t,e,n.properties[e]))}))):wo(t,r,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach((function(n){return e(n,t.properties[n])}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Ro}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(no);Oa.prototype.applySnapshot=Xn(Oa.prototype.applySnapshot);var Sa=function(e){function t(t,n,r,i){void 0===i&&(i=Fo);var o=e.call(this,t)||this;return Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"checker",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),o.flags=n,o}return Di(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return xo(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return $o(e)&&this.checker(e)?mo():wo(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(ro),Pa=new Sa("string",Yi.String,(function(e){return"string"==typeof e})),ja=new Sa("number",Yi.Number,(function(e){return"number"==typeof e})),Aa=new Sa("integer",Yi.Integer,(function(e){return Uo(e)})),xa=new Sa("boolean",Yi.Boolean,(function(e){return"boolean"==typeof e})),Ea=new Sa("null",Yi.Null,(function(e){return null===e})),Ia=new Sa("undefined",Yi.Undefined,(function(e){return void 0===e})),Ca=new Sa("Date",Yi.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));Ca.getSnapshot=function(e){return e.storedValue.getTime()};var qa=Ca,Ta=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(n,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Literal}),n.value=t,n}return Di(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return xo(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return $o(e)&&e===this.value?mo():wo(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(ro);function ka(e){return new Ta(e)}var Na=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return Object.defineProperty(o,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return Di(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Yi.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=Eo(e)?Co(e).snapshot:e;return this._predicate(r)?mo():wo(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(to),Va=function(e){function t(t,n,r){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),r=zi({eager:!0,dispatcher:void 0},r),i._dispatcher=r.dispatcher,r.eager||(i._eager=!1),i}return Di(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=Yi.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(r,void 0);if(!i)throw Bo("No matching type for union "+this.describe());return i.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(t,e.type);if(!i)throw Bo("No matching type for union "+this.describe());return i.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return mo();r++}else n.push(o)}return 1===r?mo():wo(t,e,"No type is applicable for the union").concat(_o(n))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(to);function Da(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=io(e)?void 0:e,i=io(e)?Li([e],t):t,o="("+i.map((function(e){return e.name})).join(" | ")+")";return new Va(o,i,r)}var za=function(e){function t(t,n,r){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return Di(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Yi.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,i)}return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&Oo(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?mo():this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(to);function Ma(e,t,n){return function(e,t){if("function"!=typeof t&&Eo(t))throw Bo("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");oo()}(0,t),new za(e,t,n||Ra)}var Ra=[void 0],La=Ma(Ia,void 0),Ba=Ma(Ea,null);function Fa(e){return oo(),Da(e,La)}var Ua=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return Di(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|Yi.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw Bo("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):mo()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getSubType(!1)||Qi}}),t}(to),Ha=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(n,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Frozen}),n}return Di(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return xo(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):mo():wo(t,e,"Value is not serializable and cannot be frozen")}}),t}(ro),Ka=new Ha,Ga=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),iu(e))this.identifier=e;else{if(!Eo(e))throw Bo("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=Co(e);if(!n.identifierAttribute)throw Bo("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)throw Bo("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ru(this.identifier),n=e.root,r=n.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var i=this.targetType,o=n.identifierCache.resolve(i,t);if(!o)throw new Wa("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:r}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),Wa=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Di(t,e),t}(Error),$a=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(r,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Reference}),r}return Di(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return iu(e)?mo():wo(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){Fi(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){var e;io(e=i.type)&&(e.flags&Yi.Object)>0?this.replaceRef(void 0):Fi(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.getValue(e);if(r){var i=Co(r),o=function(r,o){var a=function(e){switch(e){case Ni.beforeDestroy:return"destroy";case Ni.beforeDetach:return"detach";default:return}}(o);a&&n.fireInvalidated(a,e,t,i)},a=i.registerHook(Ni.beforeDetach,o),u=i.registerHook(Ni.beforeDestroy,o);return function(){a(),u()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=this;if(this.onInvalidated){var i;e.registerHook(Ni.beforeDestroy,(function(){i&&i()}));var o=function(o){i&&i();var a=e.parent,u=a&&a.storedValue;a&&a.isAlive&&u&&((n?n.get(t,u):e.root.identifierCache.has(r.targetType,ru(t)))?i=r.addTargetNodeWatcher(e,t):o||r.fireInvalidated("invalidSnapshotReference",e,t,null))};e.state===So.FINALIZED?o(!0):(e.isRoot||e.root.registerHook(Ni.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(Ni.afterAttach,(function(){o(!1)})))}}}),t}(ro),Ya=function(e){function t(t,n){return e.call(this,t,n)||this}return Di(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i,o=Eo(r)?(Io(i=r),Co(i).identifier):r,a=new Ga(r,this.targetType),u=xo(this,e,t,n,a);return a.node=u,this.watchTargetNodeForInvalidations(u,o,void 0),u}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this){var i=Eo(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(n,r),e}var a=this.instantiate(n,r,void 0,t);return e.die(),a}}),t}($a),Xa=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return Di(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=Eo(r)?this.options.set(r,e?e.storedValue:null):r,o=xo(this,e,t,n,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=Eo(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(n,r),e;var o=this.instantiate(n,r,void 0,i);return e.die(),o}}),t}($a);function Ja(e,t){oo();var n=t||void 0,r=t?t.onInvalidated:void 0;return n&&(n.get||n.set)?new Xa(e,{get:n.get,set:n.set},r):new Ya(e,r)}var Za=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"validType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Identifier}),r}return Di(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!(e&&e.type instanceof Oa))throw Bo("Identifier types can only be instantiated as direct child of a model type");return xo(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(e.storedValue!==t)throw Bo("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?wo(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):mo()}}),t}(ro),Qa=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Identifier}),t}return Di(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(Za),eu=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return Di(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(Za),tu=new Qa,nu=new eu;function ru(e){return""+e}function iu(e){return"string"==typeof e||"number"==typeof e}var ou=function(e){function t(t){var n=e.call(this,t.name)||this;return Object.defineProperty(n,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Yi.Custom}),n}return Di(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return mo();var n=this.options.getValidationMessage(e);return n?wo(t,e,"Invalid value for type '"+this.name+"': "+n):mo()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return xo(this,e,t,n,this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=!this.options.isTargetType(t);if(!e.isDetaching&&e.type===this&&(i?t===e.snapshot:t===e.storedValue))return e.setParent(n,r),e;var o=i?this.options.fromSnapshot(t,n.root.environment):t,a=this.instantiate(n,r,void 0,o);return e.die(),a}}),t}(ro),au={enumeration:function(e,t){var n="string"==typeof e?t:e,r=Da.apply(void 0,Li(n.map((function(e){return ka(""+e)}))));return"string"==typeof e&&(r.name=e),r},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new Oa({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})})).named(r)},custom:function(e){return new ou(e)},reference:Ja,safeReference:function(e,t){var n=Ja(e,zi(zi({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:Fa(n)},union:Da,optional:Ma,literal:ka,maybe:Fa,maybeNull:function(e){return oo(),Da(e,Ba)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():io(e[0])?e[0].name:null,r=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return oo(),ta(),new Na(n,r,i,o)},string:Pa,boolean:xa,number:ja,integer:Aa,Date:qa,map:function(e){return new ba("map<string, "+e.name+">",e)},array:function(e){return oo(),new va(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?Ka:io(e)?new Ha(e):Ma(Ka,e)},identifier:tu,identifierNumber:nu,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")";return new Ua(n,"string"==typeof e?t:e)},undefined:Ia,null:Ea,snapshotProcessor:function(e,t,n){return oo(),new fa(e,t,n)}};function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function su(e){return function(e){if(Array.isArray(e))return fu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||cu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cu(e,t){if(e){if("string"==typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(e,t):void 0}}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){hu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(2420);var yu=["top","right","bottom","left"],gu={top:-1,right:1,bottom:1,left:-1},mu={padding:0,blur:2,captionOffsetX:"0px",captionOffsetY:"0px",captionPosition:"none",onShow:function(){return function(){}}},wu=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];bu(this,e),Object.assign(this,t),n&&this.generate()}var t,n,r;return t=e,r=[{key:"fromEles",value:function(t,n){return new e(du(du({eles:t},mu),n))}},{key:"fromEle",value:function(t,n){return new e(du(du({eles:[t]},mu),n))}},{key:"fromSpotlight",value:function(t,n){return new e(du(du({},t),n))}},{key:"blank",value:function(t){return new e(du(du({},mu),t))}}],(n=[{key:"generate",value:function(){var e=this;if(this.eles)for(this.bounds=this.eles.map((function(t,n){return function(e,t){var n,r,i,o,a,u=e.getBoundingClientRect(),s="object"===uu(t)?null!==(n=t.default)&&void 0!==n?n:0:t;return{top:u.top-(null!==(r=t.top)&&void 0!==r?r:s),left:u.left-(null!==(i=t.left)&&void 0!==i?i:s),right:u.right+(null!==(o=t.right)&&void 0!==o?o:s),bottom:u.bottom+(null!==(a=t.bottom)&&void 0!==a?a:s)}}(t,e.padding instanceof Array?e.padding[n]:e.padding)})),this.subPaths=[],this.unvisitedBounds=Array.from(Array(this.bounds.length),(function(e,t){return t})),this._anchorBounds=null;this.unvisitedBounds.length>0;)this._addNextSubPath()}},{key:"updateSVG",value:function(e){var t=window.innerWidth+20,n=window.innerHeight+20;e.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),e.querySelector("path").setAttribute("d",this._getD(t,n)),e.querySelector("feGaussianBlur").setAttribute("stdDeviation",this.blur)}},{key:"updateCaption",value:function(e){!function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e.style=null),Object.entries(t).forEach((function(t){var n=Z(t,2),r=n[0],i=n[1];e.style[r]=i}))}(e,this.captionStyle,!0)}},{key:"dup",value:function(t){return new e(du(du({},this),t),!1)}},{key:"_addNextSubPath",value:function(){this.curBoundIdx=this.unvisitedBounds.shift(),this.curBoundSide="top";var e=this.bounds[this.curBoundIdx],t=[[e.left,e.top]];for(this._addNextPoint(t);!q(t[0],t[t.length-1]);)this._addNextPoint(t);this.subPaths.push(t.map((function(e){return e.map((function(e){return e+10}))})))}},{key:"_addNextPoint",value:function(e){var t=lu(X(this.curBoundSide,(function(e){var t=e._case;t(["left","right"],(function(){return[0,1]})),t(["top","bottom"],(function(){return[1,0]}))})),2),n=t[0],r=t[1],i=e[e.length-1],o=i[n],a=i[r],u=function(e){var t=yu.indexOf(e);return yu[(t+1+4)%4]}(this.curBoundSide),s=this._getDim(this.curBoundIdx,u);if(a!==s){for(var l=this.curBoundIdx,c=function(e){var t=yu.indexOf(e);return yu[(t+2)%4]}(u),f=0;f<this.bounds.length;f++){var p=lu(this._getOtherDimRange(f,c),2),d=p[0],h=p[1];if(!(o<d||o>h)){var b=this._getDim(f,c),v=b===a&&f!==this.curBoundIdx,y=Math.sign(b-a)===gu[u]&&Math.sign(s-b)===gu[u];(v||y)&&(s=b,l=f)}}var g=[null,null];g[n]=o,g[r]=s,e.push(g),W(this.unvisitedBounds,l),this.curBoundSide=l!==this.curBoundIdx?c:u,this.curBoundIdx=l}else this.curBoundSide=u}},{key:"_getDim",value:function(e,t){return"number"==typeof e?this.bounds[e][t]:e[t]}},{key:"_getOtherDimRange",value:function(e,t){var n=this.bounds[e];return X(t,(function(e){var t=e._case;t(["left","right"],(function(){return[n.top,n.bottom]})),t(["top","bottom"],(function(){return[n.left,n.right]}))}))}},{key:"_getD",value:function(e,t){return"M 0,0 L ".concat(e,",0 ").concat(e,",").concat(t," 0,").concat(t," 0,0 ").concat(this.innerPath)}},{key:"_getSubPathD",value:function(e){var t="M ".concat(e[0].join()),n=e.length>1?"L ".concat(e.slice(1).map((function(e){return e.join()})).join(" ")):"";return"".concat(t," ").concat(n)}},{key:"_getRoundedSubPathD",value:function(e){for(var t=[],n=0;n<e.length-1;n++){var r=n===e.length-2?this._getPathHook([].concat(su(e.slice(-2)),[e[1]])):this._getPathHook(e.slice(n,n+3));t.push.apply(t,su(r))}return"M ".concat(t[t.length-1]," ").concat(t.join(" "))}},{key:"_getPathHook",value:function(e){var t=lu(e,3),n=t[0],r=t[1],i=t[2],o=this._getNudgedPoint(r,n),a=this._getNudgedPoint(r,i),u=[0,1].map((function(e){return Math.abs(o[e]-a[e])})),s=i[1]>n[1],l=2*r[0]>n[0]+i[0];return["L",o,"A",u,0,0,s===l?1:0,a]}},{key:"_getNudgedPoint",value:function(e,t){var n=this;return[0,1].map((function(r){var i=t[r]-e[r],o=Math.min(n.borderRadius,Math.abs(i)/2);return e[r]+o*Math.sign(i)}))}},{key:"innerPath",get:function(){if(!this.eles)return"";var e=this.borderRadius?this._getRoundedSubPathD:this._getSubPathD;return this.subPaths.map(e.bind(this)).join(" ")+" z"}},{key:"anchorBounds",get:function(){return this._anchorBounds||(this.eles?this.bounds.length>1&&"number"==typeof this.anchorEle?this._anchorBounds=this.bounds[this.anchorEle]:this.bounds.length>1?this._anchorBounds=this.bounds.reduce((function(e,t){return{top:Math.min(e.top,t.top),left:Math.min(e.left,t.left),right:Math.max(e.right,t.right),bottom:Math.max(e.bottom,t.bottom)}})):this._anchorBounds=this.bounds[0]:this._anchorBounds={top:0,right:0,left:0,bottom:0}),this._anchorBounds}},{key:"positionStyles",get:function(){var e=this.anchorBounds,t=e.top,n=e.right,r=e.left,i=e.bottom,o="".concat(t,"px"),a="".concat((t+i)/2,"px"),u="".concat(i,"px"),s="".concat(r,"px"),l="".concat((r+n)/2,"px"),c="".concat(n,"px");return{top:{top:o,left:l},topRight:{top:o,left:c},right:{top:a,left:c},bottomRight:{top:u,left:c},bottom:{top:u,left:l},bottomLeft:{top:u,left:s},left:{top:a,left:s},topLeft:{top:o,left:s},middle:{top:a,left:l}}}},{key:"captionStyle",get:function(){var e=this.positionStyles[this.captionPosition],t=X(this.captionPosition,(function(e){var t=e._case,n=e._default;t(/(L|l)eft/,(function(){return"-100%"})),t(["top","bottom","middle"],(function(){return"-50%"})),n((function(){return"0px"}))})),n=X(this.captionPosition,(function(e){var t=e._case,n=e._default;t(/top/,(function(){return"-100%"})),t(["left","right","middle"],(function(){return"-50%"})),n((function(){return"0px"}))})),r="calc(".concat(t," + ").concat(this.captionOffsetX,")"),i="calc(".concat(n," + ").concat(this.captionOffsetY,")");return du(du({},e),{},{transform:"translateX(".concat(r,") translateY(").concat(i,")")})}}])&&vu(t.prototype,n),r&&vu(t,r),e}();function _u(e){!function(e){var t=e.gameStore.options,n=e.elements.optionsEles,r=n.autoBlock,i=n.autoElim,o=n.autoElimMathImpossibilities,a=n.walkthrough,u=n.maxPossibilitiesInput;r.addEventListener("click",t.toggleAutoBlock),i.addEventListener("click",t.toggleAutoEliminate),a.addEventListener("click",t.toggleWalkthrough),o.addEventListener("click",t.toggleAutoElimMathImpossibilities),u.addEventListener("keydown",(function(e){e.preventDefault();var n=X(e.code,(function(n){var r=n._case;r(y,(function(){return B(e.code)})),r(b,(function(){var n=F(e.code),r=t.maxDisplayedPossibilities;return"Up"===n||"Right"===n?r+1:r-1}))}));n&&t.setMaxDisplayedPossibilities(n)}))}(e),function(e){var t=e.gameStore.options,n=e.elements.optionsEles,r=n.autoBlock,i=n.autoElim,o=n.autoElimMathImpossibilities,a=n.maxPossibilitiesInput,u=n.walkthrough;[function(){r.className=t.autoBlockClassName},function(){i.className=t.autoElimClassName},function(){o.className=t.autoElimMathImpossibilitiesClassName},function(){u.className=t.walkthroughClassName},function(){a.value=t.maxDisplayedPossibilities}].map((function(e){return er(e)}))}(e)}function Ou(e){return function(e){if(Array.isArray(e))return Su(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Su(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pu(e){var t,n,r,i,o,a,u,s;!function(e){var t=e.gameStore,n=e.elements.collectionInfoEles,r=n.comboListEle,i=n.possibilityEles,o=n.andModeButton,a=n.notModeButton,u=n.orModeButton,s=n.clearModeButton,l=n.clearAllButton;r.addEventListener("click",(function(e){if(t.ui.curCage){var n=e.target.closest(".combo");if(n){var r=n.dataset.combo.split(",").map((function(e){return parseInt(e)}));t.toggleCurCageCombo(r)}}})),Array.from(i).map((function(e){var n=parseInt(e.dataset.val);function r(){e.classList.remove("prevent-hover"),e.removeEventListener("mouseleave",r)}e.addEventListener("click",(function(){t.ui.curCage&&(t.toggleFilterPossibility(n),e.classList.add("prevent-hover"),e.addEventListener("mouseleave",r))}))}));var c=function(e,n){e.addEventListener("click",(function(){t.ui.shouldShowCollection&&t.ui.setFilterMode(n)}))};c(o,"and"),c(a,"not"),c(u,"or"),s.addEventListener("click",(function(){t.ui.shouldShowCollection&&t.clearFilterMode()})),l.addEventListener("click",(function(){t.ui.shouldShowCollection&&t.clearFilter()}))}(e),n=(t=e).gameStore,r=t.elements,i=r.collectionInfoEle,o=r.collectionInfoEles,a=o.comboListEle,u=o.possibilityEles,s=Array.from(u).map((function(e){var t=parseInt(e.dataset.val),r=e.querySelector(".possibility-icons--no-hover"),i=e.querySelector(".possibility-icons--hover"),o=function(e,t){oe(e,t,{attributes:["class"]})||e.replaceChildren.apply(e,Ou(t))};return function(){e.className=n.ui.filterPossibilityClassName(t),o(r,n.ui.filterNoHoverIcons(t)),o(i,n.ui.filterHoverIcons(t))}})),[function(){n.ui.shouldShowCollection&&function(e,t,n){for(var r=t instanceof Node?Array.from(t.children):t,i=U(Array.from(e.children)),o=U(r),a=i(),u=o();void 0!==a||void 0!==u;)if(void 0===a)e.append(u),u=o();else if(void 0===u)a.remove(),a=i();else switch(n(a,u)){case-1:a.remove(),a=i();break;case 0:ue(a,u),a=i(),u=o();break;case 1:e.insertBefore(u.cloneNode(!0),a),u=o()}}(a,n.ui.curCage.comboEles,n.ui.curCage.compareComboEles)},function(){i.className=n.ui.collectionClassName}].concat(Ou(s)).map((function(e){return er(e)}))}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Au(e){var t,n,r,i,o,a;n=(t=e).gameStore,i=(r=t.elements.squareInfoEles).possibilityEles,o=r.select,a=r.clear,i.forEach((function(e){var t=parseInt(e.dataset.val);function r(){e.classList.remove("prevent-hover"),e.removeEventListener("mouseleave",r)}e.addEventListener("click",(function(){n.ui.curSquare&&!n.ui.hasFocusedSquareValue&&(n.ui.isStaging?n.toggleStagedPossibility(t):n.ui.hasSelection?n.toggleSelectionPossibility(t):n.toggleFocusedSquarePossibility(t),e.classList.add("prevent-hover"),e.addEventListener("mouseleave",r))}))})),o.addEventListener("click",(function(){n.ui.curSquare&&!n.ui.curSquare.hasValue&&(n.ui.isStaging?n.stopStaging():n.beginStaging())})),a.addEventListener("click",(function(){n.ui.curSquare&&(n.ui.isStaging?n.clearStagedPossibilities():n.resetFocusedSquarePossibilities())})),function(e){var t,n=e.gameStore,r=e.elements.squareInfoEles,i=r.squareLabelText,o=r.possibilityEles,a=r.selectIcon,u=r.clearIcon,s=r.select,l=r.clear,c=Array.from(o).map((function(e){var t=parseInt(e.dataset.val);return function(){e.className=n.ui.squareInfoPossibilityClassName(t);var r=n.ui.squareInfoPossibilityIconClassNames(t),i=function(e){return{noHover:e.querySelector(".no-hover i"),hover:e.querySelector(".hover i")}}(e),o=i.noHover,a=i.hover;o.className=r.noHover,a.className=r.hover}}));[function(){a.className=n.ui.squareInfoSelectIconClassName,u.className=n.ui.squareInfoClearIconClassName},function(){s.className=n.ui.squareInfoSelectClassName,l.className=n.ui.squareInfoClearClassName},function(){n.ui.squareInfoSelectIsDisabled?s.disabled=!0:s.disabled=!1},function(){n.ui.squareInfoClearIsDisabled?l.disabled=!0:l.disabled=!1},function(){n.ui.hasSelection?i.innerHTML="Selection":i.innerHTML="Square"}].concat((t=c,function(e){if(Array.isArray(e))return ju(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(e){return er(e)}))}(e)}function xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eu(e){var t,n=e.globals,r=e.templates;return function(e){var t,n,r=e.option,i=e.optionToggle,o=[{inputId:"option-auto-block",inputTemplate:i,infoText:"block contradictory moves",hoverText:"prevents you from entering a number that's eliminated as a possibility"},{inputId:"option-auto-elim",inputTemplate:i,infoText:"auto-eliminate possibilities",hoverText:"when you enter a number, remove that number as a possibility from all the squares in the same row or column"},{inputId:"option-auto-elim-math-impossibilities",inputTemplate:i,infoText:"auto-eliminate mathematical impossibilities",hoverText:"only certain combinations of numbers can mathematically appear in a cage; eliminate those that can't"},{inputId:"option-walkthrough",inputTemplate:i,infoText:"always show walkthrough",hoverText:"always show the walkthrough upon refresh or revisiting this page"},{inputId:"option-max-possibilities",inputTemplate:e.optionNum,infoText:"max possibilities to display in square",hoverText:"don't display the possibilites in the square itself, unless you've narrowed it down to this number or less"}].map((function(e){return function(e,t){var n=t.infoText,r=t.hoverText,i=t.inputTemplate,o=t.inputId,a=e.cloneNode(!0),u=i.cloneNode(!0);return a.querySelector(".option_info-text").innerText=n,a.querySelector(".option_hover-text").innerText=r,u.setAttribute("id",o),a.append(u),a}(r,e)}));(t=document.querySelector("#header-options .header_dropdown")).append.apply(t,function(e){if(Array.isArray(e))return xu(e)}(n=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xu(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}(r),function(e,t){for(var n=t.square.querySelector(".square_possibility"),r=1;r<=e.size;r++){var i=n.cloneNode(!0);i.dataset.val=r,i.innerText=r,n.before(i)}n.remove()}(n,r),function(e,t){for(var n=new DocumentFragment,r=1;r<=e.size;r++){var i=t.squareInfoPossibility.cloneNode(!0);i.dataset.val=r,i.querySelector(".square-info_possibility-val").innerText=r,n.appendChild(i)}document.querySelector(".square-info").prepend(n)}(n,r),function(e,t){for(var n=new DocumentFragment,r=1;r<=e.size;r++){var i=t.filterPossibility.cloneNode(!0);i.dataset.val=r,i.querySelector(".filter-possibility_val").innerText=r,n.appendChild(i)}document.querySelector(".filter-possibilities").prepend(n)}(n,r),function(e){document.querySelector(".info-box").prepend(Iu(e.infoLabel,{text:"Square",id:"square-label"}),Iu(e.infoLabel,{text:"Cage",id:"cage-label"}))}(r),document.querySelectorAll("i").forEach((function(e){e.className=g[function(e){return e.split("-").map((function(e,t){return t>0?e[0].toUpperCase()+e.slice(1):e})).join("")}(e.className)]})),t=window.navigator.platform.startsWith("Win")?"⌃":"⌘",document.querySelector("#header-undo .keyboard").innerText="".concat(t,"z"),document.querySelector("#header-redo .keyboard").innerText="".concat(t,"y"),{puzzleEle:document.querySelector(".puzzle"),infoEle:document.querySelector(".info-box"),squareInfoEle:document.querySelector(".square-info"),collectionInfoEle:document.querySelector(".collection-info"),headerEle:document.querySelector(".header"),squareInfoEles:{squareLabelText:document.querySelector("#square-label text"),possibilityEles:document.querySelectorAll(".square-info_possibility"),select:document.querySelector("#square-info_select-only"),selectIcon:document.querySelector("#square-info_select-only i"),clear:document.querySelector("#square-info_clear"),clearIcon:document.querySelector("#square-info_clear i")},collectionInfoEles:{comboListEle:document.querySelector(".combos_list"),filterEle:document.querySelector(".collection-filter"),possibilityEles:document.querySelectorAll(".filter-possibility"),andModeButton:document.querySelector("#filter-and"),notModeButton:document.querySelector("#filter-not"),orModeButton:document.querySelector("#filter-or"),clearModeButton:document.querySelector("#filter-clear-mode"),clearAllButton:document.querySelector("#filter-clear-all")},headerEles:{aboutButton:document.querySelector("#header-about"),aboutDropdown:document.querySelector("#header-about .header_dropdown"),instructionsButton:document.querySelector("#header-instructions"),instructionsDropdown:document.querySelector("#header-instructions .header_dropdown"),optionsButton:document.querySelector("#header-options"),optionsDropdown:document.querySelector("#header-options .header_dropdown"),undoButton:document.querySelector("#header-undo"),redoButton:document.querySelector("#header-redo"),newButton:document.querySelector("#header-new"),resetButton:document.querySelector("#header-reset")},optionsEles:{autoBlock:document.querySelector("#option-auto-block"),autoElim:document.querySelector("#option-auto-elim"),walkthrough:document.querySelector("#option-walkthrough"),autoElimMathImpossibilities:document.querySelector("#option-auto-elim-math-impossibilities"),maxPossibilitiesInput:document.querySelector("#option-max-possibilities .option_num-input"),maxPossibilitiesError:document.querySelector("#option-max-possibilities .option_error")},squareEle:Ii,squareEles:Ci}}function Iu(e,t){var n=t.text,r=t.id,i=e.cloneNode(!0);return i.setAttribute("id",r),i.querySelector("text").textContent=n,i}function Cu(e){var t=e.gameStore;document.addEventListener("keydown",(function(e){t.ui.curSquare&&X(e.code,(function(n){var r=n._case,i=n._ensure;r(!e.metaKey,!e.ctrlKey,/^Alt/,!t.ui.hasSelection,(function(){return t.beginStaging()})),r(!e.altKey,e.ctrlKey,y,(function(){return t.ui.hasSelection?t.toggleSelectionPossibility(B(e.code)):t.toggleFocusedSquarePossibility(B(e.code))})),r(!e.altKey,e.shiftKey,y,(function(){return t.toggleFilterPossibility(B(e.code))})),r(!e.altKey,y,(function(){return t.setFocusedSquare(B(e.code))})),r(e.altKey,y,(function(){return t.toggleStagedPossibility(B(e.code))})),r(!e.altKey,!e.shiftKey,b,(function(){return t.selectSquareByDir(F(e.code))})),r(e.ctrlKey,["Delete","Backspace"],(function(){return t.resetFocusedSquarePossibilities()})),r(e.shiftKey,["Delete","Backspace"],(function(){return t.clearFilter()})),r(!e.altKey,["Delete","Backspace"],(function(){return t.clearFocusedSquare()})),r(e.altKey,["Delete","Backspace"],(function(){return t.clearStagedPossibilities()})),r(!e.altKey,e.shiftKey,e.metaKey,v,(function(){return t.ui.changeFilterModeByDir(F(e.code))})),r(!e.altKey,e.shiftKey,!e.metaKey,b,(function(){return t.ui.tentativelySelectInDir(F(e.code))})),r("KeyA",(function(){return t.ui.setFilterMode("and")})),r("KeyE",(function(){return t.ui.setFilterMode("not")})),r("KeyO",(function(){return t.ui.setFilterMode("or")})),i((function(){e.preventDefault()}))}))})),document.addEventListener("keydown",(function(e){X(e.code,(function(n){var r=n._case,i=n._ensure;r([e.metaKey,e.ctrlKey],"KeyZ",(function(){t.undo()})),r([e.metaKey,e.ctrlKey],"KeyY",(function(){t.redo()})),i((function(){e.preventDefault()}))}))})),document.addEventListener("keyup",(function(e){X(e.code,(function(e){var n=e._case;n(/Shift/,(function(){return t.ui.lockInTentativeSelections()})),n(/Alt/,(function(){return t.stopStaging()}))}))}))}function qu(e){var t=e.gameStore,n=e.elements,r=n.puzzleEle,i=n.infoEle;document.addEventListener("click",(function(e){e.path.includes(r)||e.path.includes(i)||(t.clearFocus(),t.ui.clearSelectedSquares())})),r.addEventListener("click",(function(e){var n=e.target.closest(".square");if(n){var r=n.dataset.id;e.shiftKey?t.ui.selectThroughSquare(r):e.metaKey?t.ui.toggleSelectedSquare(r):t.selectSquareById(r)}}))}function Tu(e){return function(e){if(Array.isArray(e))return ku(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(3290),n(9826);var Nu=function(e){return new Promise((function(t){var n,r,i,o,a,u,s,l,c,f,p,d,h,b,v,y,g,m,w,_,O,S,P,j,A,x,E,I=e.env.templates.spotlightCaption.cloneNode(!0),C=e.env.templates.spotlight.cloneNode(!0),q={nextBtn:(n=I).querySelector("#spotlight-next"),previousBtn:n.querySelector("#spotlight-previous"),finishBtn:n.querySelector("#spotlight-finish")},T=q.nextBtn,k=q.previousBtn,N=q.finishBtn,V=function(){},D=(i=(r=e).gameStore,o=r.env.templates,u=(a=r.elements).puzzleEle,s=a.infoEle,l=a.squareInfoEle,c=a.collectionInfoEle,f=a.headerEles,p=f.instructionsButton,d=f.instructionsDropdown,h=f.optionsButton,b=f.optionsDropdown,v=function(e){var t=e.puzzle.cagesArray.find((function(e){return e.numPossibleRepeats>0&&15===e.result}));return Array.from(t.squares.map((function(e){return document.querySelector('.square[data-id="'.concat(e.id,'"]'))})))}(i),y=v[0],g=v[1],m=function(e){return i.selectSquareById(e.dataset.id)},w=wu.blank({captionPosition:"middle",captionOffsetX:"50vw",captionOffsetY:"50vh",captionContent:o.introCaptionContent.cloneNode(!0)}),_=wu.fromEle(u,{padding:5,borderRadius:8,captionPosition:"right",captionOffsetX:"20px",captionContent:o.puzzleCaptionContent.cloneNode(!0)}),O=wu.fromEles(Tu(v),{padding:.5,borderRadius:2,blur:1,captionPosition:"right",captionOffsetX:"20px",captionContent:o.cageCaptionContent.cloneNode(!0)}),S=wu.fromEle(s,{padding:{default:6,left:8},borderRadius:8,blur:1.5,captionPosition:"left",captionOffsetX:"-20px",captionContent:o.infoCaptionContent.cloneNode(!0)}),P=wu.fromEles([].concat(Tu(v),[c]),{padding:[].concat(Tu(Array(v.length).fill(.5)),[{top:26,bottom:-10}]),borderRadius:2,blur:1,anchorEle:v.length,captionPosition:"bottomLeft",captionOffsetX:"-20px",captionOffsetY:"-100%"}),j=wu.fromEles([y,l],{padding:[0,{default:0,top:-10,bottom:-20}],borderRadius:2,blur:1,anchorEle:1,captionOffsetX:"-20px",captionPosition:"left",captionOffsetY:"50%",captionContent:o.squareInfoCaptionContent.cloneNode(!0)}),A=wu.fromEles([y,g,l],{padding:[0,0,{default:0,top:-10,bottom:-20}],borderRadius:2,blur:1,anchorEle:2,captionPosition:"left",captionOffsetX:"-20px",captionOffsetY:"50%",captionContent:o.selectionInfoCaptionContent.cloneNode(!0)}),x=wu.fromEles([h,b],{padding:[{right:7,bottom:7,default:4},{default:6,top:4}],borderRadius:8,blur:2,anchorEle:1,captionPosition:"right",captionOffsetX:"10px",captionContent:o.optionsCaptionContent.cloneNode(!0),onShow:function(){return h.classList.add("show"),function(){h.classList.remove("show"),h.blur()}}}),E=wu.fromEles([p,d],{padding:[{right:7,bottom:7,default:4},{default:6,top:4}],borderRadius:8,blur:2,anchorEle:1,captionPosition:"right",captionOffsetX:"10px",captionContent:o.instructionsCaptionContent.cloneNode(!0),onShow:function(){return p.classList.add("show"),function(){p.classList.remove("show"),p.blur()}}}),[w,_,O,S,P.dup({captionPosition:"left",captionOffsetY:"-50%",captionContent:o.cageInfoCombosCaptionContent.cloneNode(!0),onShow:function(){return m(y),function(){return Mu(i)}}}),P.dup({captionContent:o.cageInfoTabsCaptionContent.cloneNode(!0),onShow:function(){return m(y),function(){return Mu(i)}}}),P.dup({captionContent:o.cageInfoAndCaptionContent.cloneNode(!0),onShow:function(){return m(y),Vu(i),function(){return Mu(i)}}}),P.dup({captionContent:o.cageInfoNotCaptionContent.cloneNode(!0),onShow:function(){return m(y),Du(i),function(){return Mu(i)}}}),P.dup({captionContent:o.cageInfoOrCaptionContent.cloneNode(!0),onShow:function(){return m(y),zu(i),function(){return Mu(i)}}}),P.dup({captionContent:o.cageInfoAllFiltersCaptionContent.cloneNode(!0),onShow:function(){return m(y),zu(i),Du(i),Vu(i),function(){return Mu(i)}}}),j.dup({onShow:function(){return m(y),zu(i),Du(i),Vu(i),i.toggleFocusedSquarePossibility(4),i.toggleFocusedSquarePossibility(6),function(){i.resetFocusedSquarePossibilities(),Mu(i)}}}),A.dup({onShow:function(){return m(y),i.ui.selectThroughSquare(g.dataset.id),zu(i),Du(i),Vu(i),i.toggleSelectionPossibility(4),i.toggleSelectionPossibility(6),function(){i.resetFocusedSquarePossibilities(),m(g),i.resetFocusedSquarePossibilities(),Mu(i)}}}),x,E]),z=D.map((function(e,t){return function(){var n;0===t&&k.classList.add("hide"),t+1===D.length&&T.classList.add("hide"),V();var r=function(){e.generate(),e.updateSVG(C),e.updateCaption(I)};null===(n=I.querySelector(".caption-content"))||void 0===n||n.remove(),I.prepend(e.captionContent);var i=e.onShow();window.addEventListener("resize",r),V=function(){0===t&&k.classList.remove("hide"),t+1===D.length&&T.classList.remove("hide"),window.removeEventListener("resize",r),i()},r(),function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter((function(e){return!document.body.contains(e)}));(e=document.body).append.apply(e,Tu(i))}(C,I)}})),M=0,R=function(){return M<z.length-1&&z[++M]()},L=function(){return M>0&&z[--M]()},B=function(){V(),C.remove(),I.remove(),document.removeEventListener("keydown",F,!0),t()};te(T,R),te(k,L),te(N,B);var F=function(e){X(e.code,(function(e){var t=e._case;t("KeyN",R),t("KeyP",L),t("KeyF",B)}))};document.addEventListener("keydown",F,!0),z[M]()}))};function Vu(e){e.ui.setFilterMode("and"),e.toggleFilterPossibility(4)}function Du(e){e.ui.setFilterMode("not"),e.toggleFilterPossibility(1),e.toggleFilterPossibility(6),e.toggleFilterPossibility(8)}function zu(e){e.ui.setFilterMode("or"),e.toggleFilterPossibility(2),e.toggleFilterPossibility(7)}function Mu(e){e.clearFilter(),e.clearFocus(),e.ui.clearSelectedSquares()}var Ru=au.optional(au.identifier,V),Lu=au.refinement("Position",au.array(au.integer),(function(e){return 2===e.length})),Bu=au.model("GameBase").views((function(e){return{get root(){return Ki(e)},get rootOptions(){var t;return null===(t=e.root)||void 0===t?void 0:t.options},get rootUi(){var t;return null===(t=e.root)||void 0===t?void 0:t.ui},get rootPuzzle(){return e.root.puzzle},get env(){return Io(t=e),Co(t).root.environment||Ro;var t}}})),Fu=function(e){var t=document.createElement("i");return t.className=g[e],t},Uu=function(e){var t=document.createElement("span");t.appendChild(Fu(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.className=R("possibility-icon",r),t},Hu=function(){return[Uu("square")]},Ku=(n(2707),n(5218),Bu.named("FilterPossibility").props({value:au.integer,status:au.optional(au.enumeration("Status",["none","required","eliminated","alternative"]),(function(){return"none"}))}).views((function(e){var t={and:"required",not:"eliminated",or:"alternative"},n=function(n){if(!e.matchesMode(n))return"hover-".concat(t[n])},r=function(e){return X(e,(function(e){var t=e._case;t("required",(function(){return[Uu("square","required")]})),t("eliminated",(function(){return[Uu("square","eliminated"),Uu("slash","small")]})),t("alternative",(function(){return[Uu("square","alternative"),Uu("square","alternative-inner")]})),t("none",(function(){return Hu()}))}))};return{get noHoverIcons(){return r(e.status)},matchesMode:function(n){return e.status===t[n]},hoverIcons:function(n){return e.matchesMode(n)?r(e.status):r(t[n])},className:function(t){return R("filter-possibility",[e.status,n(t)])}}})).actions((function(e){return{toggle:function(t){e.status=e.status===t?"none":t}}}))),Gu=Bu.named("Filter").props({possibilities:au.optional(au.array(Ku),(function(){return[]}))}).views((function(e){return{get required(){return e.possibilities.filter((function(e){return"required"===e.status}))},get requiredValues(){return e.required.map((function(e){return e.value}))},get eliminated(){return e.possibilities.filter((function(e){return"eliminated"===e.status}))},get eliminatedValues(){return e.eliminated.map((function(e){return e.value}))},get alternatives(){return e.possibilities.filter((function(e){return"alternative"===e.status}))},get alternativeValues(){return e.alternatives.map((function(e){return e.value}))},getPossibilityByValue:function(t){return e.possibilities.find((function(e){return e.value===t}))},filterPossibilityStatus:function(t){return e.getPossibilityByValue(t).status},isRequiredValue:function(t){return"required"===e.filterPossibilityStatus(t)},isEliminatedValue:function(t){return"eliminated"===e.filterPossibilityStatus(t)},isAlternativeValue:function(t){return"alternative"===e.filterPossibilityStatus(t)},isStandardValue:function(t){return"none"===e.filterPossibilityStatus(t)},isPossibleCombo:function(t){return e.requiredValues.every((function(e){return t.includes(e)}))&&e.eliminatedValues.every((function(e){return!t.includes(e)}))&&(0===e.alternativeValues.length||e.alternativeValues.some((function(e){return t.includes(e)})))},noHoverIcons:function(t){return e.getPossibilityByValue(t).noHoverIcons},hoverIcons:function(t,n){return e.getPossibilityByValue(t).hoverIcons(n)},className:function(t,n){return e.getPossibilityByValue(t).className(n)}}})).actions((function(e){return{initialize:function(t){e.possibilities=Array.from(Array(t),(function(e,t){return Ku.create({value:t+1})}))},toggle:function(t,n){var r=X(n,(function(e){var t=e._case;t("and",(function(){return"required"})),t("not",(function(){return"eliminated"})),t("or",(function(){return"alternative"}))}));e.getPossibilityByValue(t).toggle(r)},clearMode:function(t){e.possibilities.forEach((function(e){e.matchesMode(t)&&(e.status="none")}))},reset:function(){e.possibilities.forEach((function(e){return e.status="none"}))}}}));function Wu(e){return function(e){if(Array.isArray(e))return $u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yu=Bu.named("Square").props({id:Ru,position:Lu,cage:au.maybeNull(au.reference(au.late((function(){return Zu})))),value:au.maybeNull(au.integer),mistakeValue:au.maybeNull(au.integer),solution:au.integer,eliminatedPossibilities:au.optional(au.array(au.integer),(function(){return[]})),status:au.optional(au.enumeration("Status",["none","mistake","conflict"]),(function(){return"none"}))}).extend((function(e){var t=Array.from(Array(9),(function(e,t){return t+1}));return{views:{get collections(){return e.rootPuzzle.getCollectionsBySquare(e)},get rowSquares(){return e.rootPuzzle.getSquaresByRow(e.row).filter((function(t){return t!==e}))},get colSquares(){return e.rootPuzzle.getSquaresByCol(e.col).filter((function(t){return t!==e}))},get rowColSquares(){return[].concat(Wu(e.rowSquares),Wu(e.colSquares))},get rowColValues(){return e.rowColSquares.map((function(e){return e.value})).filter((function(e){return"number"==typeof e}))},get collectionPossibilities(){return t.filter((function(t){return e.collections.every((function(e){return e.isPossibleValue(t)}))}))},get squarePossiblities(){return t.filter((function(t){return!e.eliminatedPossibilities.includes(t)}))},get squareAndCollectionPossibilities(){return e.collectionPossibilities.filter((function(t){return e.squarePossiblities.includes(t)}))},get possibilities(){return e.hasValue?[e.value]:e.squareAndCollectionPossibilities.filter((function(t){return!e.isAutoEliminatedValue(t)}))},get dataPos(){return e.position.join(",")},get row(){return e.position[0]},get col(){return e.position[1]},get isCorrect(){return e.value===e.solution},get isCageTop(){return e.row>0&&e.cage.bounds.topSquares.includes(e)},get isCageLeft(){return e.col>0&&e.cage.bounds.leftSquares.includes(e)},get isFocused(){return e.rootUi.curSquare===e},get isSelected(){return!e.isFocused&&e.rootUi.selections.includes(e)},get isStaging(){return e.isFocused&&e.rootUi.isStaging},get hasEliminations(){return e.eliminatedPossibilities.length>0},get hasValue(){return"number"==typeof e.value},get label(){return e.cage.anchor===e?e.cage.labelText:""},get displayedValue(){return"mistake"===e.status?e.mistakeValue:e.value},get displayedPossibilities(){return e.isStaging?e.rootUi.stagedPossibilities:e.possibilities},get className(){return R("square",[["none"!==e.status,e.status],[e.isFocused,"focused"],[e.isSelected,"selected"]])},get shouldShowPossibilities(){return e.rootOptions.maxDisplayedPossibilities>=e.displayedPossibilities.length&&null===e.value&&null===e.mistakeValue},get initialHtml(){var t=e.env.templates.square.cloneNode(!0);return t.dataset.pos=e.dataPos,t},conflictingSquares:function(t){return null===t?[]:e.rowColSquares.filter((function(e){return e.value===t}))},possibilityStatuses:function(t){if(e.hasValue)return e.value===t?["chosen"]:["unchosen"];var n=[];return e.isSquareEliminatedValue(t)&&n.push("square-eliminated"),e.isCollectionEliminatedValue(t)&&n.push("collection-eliminated"),e.isAutoEliminatedValue(t)&&n.push("auto-eliminated"),n.length>0?n:["possible"]},isPossibleValue:function(t){return null===t||t===e.value||e.possibilities.includes(t)},isSquareEliminatedValue:function(t){return e.eliminatedPossibilities.includes(t)},isCollectionEliminatedValue:function(t){return!e.collectionPossibilities.includes(t)},isAutoEliminatedValue:function(t){return e.rootOptions.autoEliminate&&e.rowColValues.includes(t)},isActiveMistake:function(t){return"mistake"===e.status&&e.mistakeValue===t&&!e.isAutoEliminatedValue(t)},isStagedPossibility:function(t){return e.rootUi.stagedPossibilities.includes(t)},isVisiblePossibility:function(t){return e.shouldShowPossibilities&&e.displayedPossibilities.includes(t)},possibilityClassName:function(t){return R("square_possibility",[[e.isVisiblePossibility(t),"show"]])},infoPossibilityStagingClassName:function(t){return e.isStagedPossibility(t)?"possible":"staged-eliminated"},infoPossibilityClassName:function(t){return R("square-info_possibility",e.isStaging?[e.infoPossibilityStagingClassName(t)]:[[e.isActiveMistake(t),"mistake"]].concat(Wu(e.possibilityStatuses(t))))},infoPossibilityIconClassNames:function(t){return e.isStaging?e.isStagedPossibility(t)?{hover:g.ban,noHover:g.circle}:{hover:g.circle,noHover:g.ban}:e.isSquareEliminatedValue(t)&&!e.hasValue?{hover:g.ban,noHover:g.ban}:{hover:g.ban,noHover:g.circle}},isBelow:function(t){return t.row===e.row-1&&t.col===e.col},isRightOf:function(t){return t.row===e.row&&t.col===e.col-1},isAbove:function(t){return t.isBelow(e)},isLeftOf:function(t){return t.isRightOf(e)},comesBefore:function(t){switch(Math.sign(t.row-e.row)){case 1:return!0;case 0:return t.col>e.col;case-1:return!1}},isLogicalSupersetOf:function(t){return t.possibilities.every(e.isPossibleValue)},isLogicalSubsetOf:function(t){return t.isLogicalSupersetOf(e)},isConsistentWith:function(t){return function(e,t){var n={};e.forEach((function(e){return n[e]=n[e]?n[e]+1:1}));var r=[];return t.forEach((function(e){n[e]&&n[e]>0&&(n[e]--,r.push(e))})),r}(t.possibilities,e.possibilities).length>0}},actions:{setMistake:ra(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mistakeValue=n,e.status="mistake",t.next=4,L(e.env.globals.mistakeTimeoutMs);case 4:e.status="none",e.mistakeValue=null;case 6:case"end":return t.stop()}}),t)}))),setConflict:ra(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.status="conflict",t.next=3,L(e.env.globals.mistakeTimeoutMs);case 3:e.status="none";case 4:case"end":return t.stop()}}),t)}))),togglePossibility:function(t){G(e.eliminatedPossibilities,t)},eliminatePossibility:function(t){!function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e.includes(t)})(e,t)||e.push(t)}(e.eliminatedPossibilities,t)},uneliminatePossibility:function(t){W(e.eliminatedPossibilities,t)},setStagedPossibilities:function(){e.eliminatedPossibilities=t.filter((function(t){return!e.rootUi.stagedPossibilities.includes(t)}))},reset:function(){e.status="none",e.value=null,e.mistakeValue=null,e.eliminatedPossibilities=[]}}}}));function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ju=Bu.named("Collection").props({id:Ru,squares:au.array(au.reference(au.late((function(){return Yu})))),filter:au.optional(Gu,(function(){return Gu.create()})),eliminatedCombos:au.optional(au.array(au.array(au.integer)),(function(){return[]}))}).views((function(e){return{get numSquares(){return e.squares.length},get positions(){return e.squares.map((function(e){return e.position}))},get squareValues(){return e.squares.map((function(e){return e.value})).filter((function(e){return"number"==typeof e}))},get allCombos(){return I(e.numSquares,{min:1,max:e.env.globals.size,numRepeatsAllowed:e.numPossibleRepeats})},get filteredCombos(){return e.allCombos.filter(e.isFilteredCombo)},get possibleCombos(){return e.allCombos.filter(e.isPossibleCombo)},get numPossibleRepeats(){return C(e.positions)},get comboEles(){return e.filteredCombos.map((function(t){var n=e.env.templates.combo.cloneNode(!0);return n.dataset.combo=t.join(","),n.innerText=t.join(" | "),e.isEliminatedCombo(t)&&n.classList.add("combo--eliminated"),n}))},compareComboEles:function(e,t){var n=e.dataset.combo,r=t.dataset.combo;return n===r?0:n<r?-1:1},isFilteredCombo:function(t){return e.filter.isPossibleCombo(t)},isEliminatedCombo:function(t){return T(e.eliminatedCombos,t)},isPossibleCombo:function(t){return e.isFilteredCombo(t)&&!e.isEliminatedCombo(t)},isPossibleValue:function(t){return e.possibleCombos.some((function(n){return N.apply(void 0,[n].concat(function(e){if(Array.isArray(e))return Xu(e)}(r=e.squareValues)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]));var r}))}}})).actions((function(e){return{addSquare:function(t){e.squares.push(t.id)},toggleCombo:function(t){G(e.eliminatedCombos,t,k)},setCombos:function(t){var n=t.map((function(e){return e.sort()}));e.eliminatedCombos=e.allCombos.filter((function(e){return!T(n,e)}))},reset:function(){e.filter.reset(),e.eliminatedCombos=[]}}})),Zu=Ju.named("Cage").props({operation:au.enumeration("Operation",["+","−","⨉","÷"]),result:au.integer,autoElimMathImpossibilities:au.optional(au.boolean,(function(){return!1}))}).views((function(e){var t=e.isFilteredCombo;return{get bounds(){var t={topSquares:[],leftSquares:[],anchor:e.squares[0]};return e.squares.forEach((function(n){var r=!e.squares.some(n.isBelow),i=!e.squares.some(n.isRightOf);r&&t.topSquares.push(n),i&&t.leftSquares.push(n),r&&i&&n.comesBefore(t.anchor)&&(t.anchor=n)})),t},get anchor(){return e.bounds.anchor},get labelText(){return"".concat(e.result," ").concat(e.operation)},isFilteredCombo:function(n){return e.rootOptions.autoElimMathImpossibilities||e.autoElimMathImpossibilities?t(n)&&e.isMathematicalPossibility(n):t(n)},isMathematicalPossibility:function(t){switch(e.operation){case"+":return t.reduce((function(e,t){return e+t}),0)===e.result;case"−":return n=w(t,2),(o=w((r=n[0])>(i=n[1])?[r,i]:[i,r],2))[0]-o[1]===e.result;case"⨉":return t.reduce((function(e,t){return e*t}),1)===e.result;case"÷":return function(e){var t=w(e,2),n=t[0],r=t[1],i=w(n>r?[n,r]:[r,n],2);return i[0]/i[1]}(t)===e.result;default:throw new Error("Operation ".concat(e.operation," doesn't match one of +, -, ⨉, or ÷"))}var n,r,i,o}}})),Qu=Ju.named("Group");function es(e){return function(e){if(Array.isArray(e))return ns(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ts(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){if(e){if("string"==typeof e)return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(e,t):void 0}}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rs=Bu.named("UI").props({curSquare:au.maybeNull(au.reference(Yu)),curCollection:au.maybeNull(au.union(au.reference(Qu),au.reference(Zu))),isStaging:au.optional(au.boolean,(function(){return!1})),stagedPossibilities:au.optional(au.array(au.integer),(function(){return[]})),filterMode:au.optional(au.enumeration("FilterMode",["and","not","or"]),(function(){return"and"})),selectedSquares:au.optional(au.array(au.reference(Yu)),(function(){return[]})),tentativeSelections:au.optional(au.array(au.reference(Yu)),(function(){return[]}))}).views((function(e){return{get curPosition(){var t;return null===(t=e.curSquare)||void 0===t?void 0:t.position},get curCage(){var t;return null===(t=e.curSquare)||void 0===t?void 0:t.cage},get curCageFilteredCombos(){var t;return(null===(t=e.curCage)||void 0===t?void 0:t.filteredCombos)||[]},get curCagePossibleCombos(){var t;return(null===(t=e.curCage)||void 0===t?void 0:t.possibleCombos)||[]},get hasStagedPossibilities(){return e.stagedPossibilities.length>0},get squareInfoSelectClassName(){return R("square-info_btn",[[!e.curSquare||e.curSquare.hasValue,"disabled"]])},get squareInfoClearClassName(){return R("square-info_btn",[[!e.curSquare,"disabled"]])},get squareInfoSelectIconClassName(){return e.isStaging?g.confirm:g.select},get squareInfoClearIconClassName(){return e.isStaging?g.reset:g.clear},get lastSelectedSquare(){return e.selectedSquares[e.selectedSquares.length-1]},get hasSelection(){return e.selectedSquares.length>1},get shouldShowCollection(){return e.curCage&&!e.hasSelection},get collectionClassName(){return R("collection-info",[[e.shouldShowCollection,e.filterMode,"none"]])},get selections(){return e.selectedSquares.concat(e.tentativeSelections.filter((function(t){return!e.selectedSquares.includes(t)})))},isValidPos:function(t){return t.every((function(t){return t>=0&&t<e.env.globals.size}))},isSelectionEliminatedValue:function(t){return e.selectedSquares.every((function(e){return e.isSquareEliminatedValue(t)}))},selectionPossibilityStatuses:function(t){var n=e.selectedSquares.map((function(e){return e.possibilityStatuses(t)})),r=["square-eliminated","collection-eliminated","auto-eliminated"].filter((function(e){return n.every((function(t){return t.includes(e)}))}));return r.length>0?r:["possible"]},filterNoHoverIcons:function(t){return e.shouldShowCollection?e.curCage.filter.noHoverIcons(t):Hu()},filterHoverIcons:function(t){return e.shouldShowCollection?e.curCage.filter.hoverIcons(t,e.filterMode):Hu()},filterPossibilityClassName:function(t){return e.shouldShowCollection?e.curCage.filter.className(t,e.filterMode):R("filter-possibility",["none","disabled"])},squareInfoPossibilityClassName:function(t){return e.hasSelection?R("square-info_possibility",e.selectionPossibilityStatuses(t)):e.curSquare?e.curSquare.infoPossibilityClassName(t):R("square-info_possibility",["disabled"])},squareInfoPossibilityIconClassNames:function(t){return e.hasSelection?e.isSelectionEliminatedValue(t)?{hover:g.ban,noHover:g.ban}:{hover:g.ban,noHover:g.circle}:e.curSquare?e.curSquare.infoPossibilityIconClassNames(t):{hover:g.circle,noHover:g.circle}}}})).actions((function(e){var t=function(t,n){var r,i,o=(i=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(r,i)||ts(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],u=o[1],s=X(n,(function(e){var t=e._case;t("Up",(function(){return[a-1,u]})),t("Right",(function(){return[a,u+1]})),t("Down",(function(){return[a+1,u]})),t("Left",(function(){return[a,u-1]}))}));return!!e.isValidPos(s)&&s};return{reset:function(){e.curSquare=null,e.curCollection=null,e.isStaging=!1,e.stagedPossibilities=[],e.filterMode="and",e.selectedSquares=[]},selectSquareByDir:function(n){var r=t(e.curPosition,n);r&&e.selectSquareByPos(r)},selectSquareByPos:function(t){e.selectSquare(e.rootPuzzle.getSquareByPos(t))},selectSquareById:function(t){e.selectSquare(e.rootPuzzle.squares.get(t))},selectSquare:function(t){e.curSquare=t,e.selectedSquares=[t],e.isStaging=!1},selectThroughSquare:function(t){if(e.selectedSquares.length>0){var n,r=e.rootPuzzle.squares.get(t).position,i=e.lastSelectedSquare.position;(n=e.selectedSquares).push.apply(n,es($(i,r).map((function(t){return e.rootPuzzle.getSquareByPos(t)})).filter((function(t){return!e.selectedSquares.includes(t)}))))}},tentativelySelectInDir:function(n){if(e.selectedSquares.length>0){var r,i,o=(null===(r=e.tentativeSelections[e.tentativeSelections.length-1])||void 0===r?void 0:r.position)||e.lastSelectedSquare.position,a=t(o,n);if(!a)return;var u=e.lastSelectedSquare.position;(i=e.tentativeSelections).push.apply(i,es($(u,a).map((function(t){return e.rootPuzzle.getSquareByPos(t)})).filter((function(t){return!e.tentativeSelections.includes(t)}))))}},lockInTentativeSelections:function(){var t;(t=e.selectedSquares).push.apply(t,es(e.tentativeSelections.filter((function(t){return!e.selectedSquares.includes(t)})))),e.tentativeSelections=[]},toggleSelectedSquare:function(t){G(e.selectedSquares,t,(function(){return e.selectedSquares.findIndex((function(e){return e.id===t}))})),e.curSquare.id===t&&(e.curSquare=null)},clearStagedPossibilities:function(){e.stagedPossibilities=[]},toggleStagedPossibility:function(t){var n=e.stagedPossibilities.indexOf(t);n>=0?e.stagedPossibilities.splice(n,1):e.stagedPossibilities.push(t)},toggleSelectionPossibility:function(t){e.isSelectionEliminatedValue(t)?e.selectedSquares.forEach((function(e){return e.uneliminatePossibility(t)})):e.selectedSquares.forEach((function(e){return e.eliminatePossibility(t)}))},clearSelectedSquares:function(){e.selectedSquares=[]},toggleFilterPossibility:function(t){e.curCage.filter.toggle(t,e.filterMode)},clearFilterMode:function(){e.curCage&&e.curCage.filter.clearMode(e.filterMode)},clearFilter:function(){e.curCage&&e.curCage.filter.initialize(e.env.globals.size)},setFilterMode:function(t){e.filterMode=t},changeFilterModeByDir:function(t){var n=["and","not","or"],r="Left"===t?-1:1,i=(n.indexOf(e.filterMode)+r+3)%3;e.filterMode=n[i]}}})),is={autoBlock:!0,autoEliminate:!0,autoElimMathImpossibilities:!0,maxDisplayedPossibilities:6,walkthrough:!0},os=Bu.named("Options").props(is).views((function(e){return{get autoBlockClassName(){return R("toggle",[[e.autoBlock,"on"]])},get autoElimClassName(){return R("toggle",[[e.autoEliminate,"on"]])},get autoElimMathImpossibilitiesClassName(){return R("toggle",[[e.autoElimMathImpossibilities,"on"]])},get walkthroughClassName(){return R("toggle",[[e.walkthrough,"on"]])}}})).actions((function(e){return{setOption:function(t,n){e[t]=n},toggleAutoBlock:function(){e.autoBlock=!e.autoBlock},toggleAutoEliminate:function(){e.autoEliminate=!e.autoEliminate},toggleAutoElimMathImpossibilities:function(){e.autoElimMathImpossibilities=!e.autoElimMathImpossibilities},toggleWalkthrough:function(){e.walkthrough=!e.walkthrough},setMaxDisplayedPossibilities:function(t){return!(t<2||t>9||(e.maxDisplayedPossibilities=t,0))},reset:function(){for(var t in is)e[t]=is[t]}}}));function as(e){return function(e){if(Array.isArray(e))return us(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return us(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?us(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ss=Bu.named("Puzzle").props({id:Ru,uuid:au.optional(au.string,V),squares:au.map(Yu),cages:au.map(Zu),groups:au.map(Qu)}).views((function(e){var t={};return{get collections(){return[].concat(as(e.cages.values()),as(e.groups.values()))},get squaresArray(){return Array.from(e.squares.values())},get cagesArray(){return Array.from(e.cages.values())},get groupsArray(){return Array.from(e.groups.values())},getSquareByPos:function(n){if(!e.isValidPos(n))return null;var r=n.join(",");return t[r]||(t[r]=e.squaresArray.find((function(e){return e.position.join(",")===r}))),t[r]},getSquaresByRow:function(t){return e.squaresArray.filter((function(e){return e.row===t}))},getSquaresByCol:function(t){return e.squaresArray.filter((function(e){return e.col===t}))},getCollectionsBySquare:function(t){return e.collections.filter((function(e){return e.squares.includes(t)}))},isValidPos:function(e){return e.every((function(e){return e>=0&&e<=9}))}}})).actions((function(e){return{resetUuid:function(){e.uuid=V()},reset:function(){e.squaresArray.forEach((function(e){return e.reset()})),e.collections.forEach((function(e){return e.reset()}))}}})),ls=Bu.named("Meta").props({implications:au.optional(au.array(au.array(au.number)),(function(){return[]})),mainId:au.maybeNull(au.integer),ifId:au.maybeNull(au.integer),mode:au.optional(au.enumeration("Mode",["main","if","then"]),(function(){return"main"}))}).volatile((function(e){return{_stagedMain:{id:null,puzzle:null},_stagedIf:{id:null,puzzle:null}}})).views((function(e){return{get mainSnapshot(){return e.env.snapshots[e.mainId]},get ifSnapshot(){return e.env.snapshots[e.ifId]},get stagedMain(){var t=e._stagedMain,n=t.id,r=t.puzzle;if("if"!==e.mode&&"then"!==e.mode)return null;if(n===e.mainId&&r)return r;var i=ss.create(e.mainSnapshot);return e._stagedMain={id:e.mainId,puzzle:i},i},get stagedIf(){var t=e._stagedIf,n=t.id,r=t.puzzle;if("then"!==e.mode)return null;if(n===e.ifId&&r)return r;var i=ss.create(e.ifSnapshot);return e._stagedIf={id:e.ifId,puzzle:i},i}}})).actions((function(e){return{enterIf:function(t){e.mainId=t,e.mode="if"},enterThen:function(t){e.ifId=t,e.mode="then"},setImplication:function(t){var n=[e.ifId,t];e.implications.push(n)},clearImplication:function(){e._stagedMain={id:null,puzzle:null},e._stagedIf={id:null,puzzle:null},e.mainId=null,e.ifId=null,e.mode="main"}}}));function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hs,bs=Bu.named("Game").props({puzzle:au.optional(ss,(function(){return ss.create()})),curPuzzleIdx:au.optional(au.integer,0),meta:au.optional(ls,(function(){return ls.create()})),options:au.optional(os,(function(){return os.create()})),ui:au.optional(rs,(function(){return rs.create()}))}).volatile((function(e){return{storedSnapshot:null}})).extend((function(e){var t,n=function(){var t=parseInt(V()),n=Hi(e.puzzle);return e.env.snapshots[t]=n,t},r=function(t){var n=e.env.puzzleCache.get(t);if(n)return n.puzzle;var r=ss.create(e.env.snapshots[t]);return e.env.puzzleCache.set(t,bs.create({puzzle:r},e.env)),r},i=function t(){var n=e.env.puzzles,r=Math.floor(Math.random()*n.length);return r===e.curPuzzleIdx?t():r},o=function(){window.setTimeout((function(){e.env.history.pop()}),0)},a=function(t){e.ui.curSquare.hasValue?o():t()},u={setFocusedSquare:function(t){e.options.autoBlock&&!e.ui.curSquare.isPossibleValue(t)?(e.ui.curSquare.conflictingSquares(t).forEach((function(e){return e.setConflict()})),e.ui.curSquare.setMistake(t),window.setTimeout((function(){e.env.history.pop()}),0)):(e.ui.curSquare.value=t,e.ui.isStaging=!1)},toggleFocusedSquarePossibility:function(t){a((function(){return e.ui.curSquare.togglePossibility(t)}))},resetFocusedSquarePossibilities:function(){var t=e.ui.curSquare;t.hasEliminations||t.hasValue?(e.ui.curSquare.eliminatedPossibilities=[],e.ui.curSquare.value=null):o()},setStagedPossibilities:function(){a((function(){e.ui.curSquare.setStagedPossibilities(),e.ui.clearStagedPossibilities()}))},clearFocusedSquare:function(){e.setFocusedSquare(null)},toggleSelectionPossibility:function(t){e.ui.toggleSelectionPossibility(t)},toggleCurCageCombo:function(t){e.ui.curCage.toggleCombo(t)},toggleFilterPossibility:function(t){e.ui.toggleFilterPossibility(t)},clearFilterMode:function(){e.ui.clearFilterMode()},clearFilter:function(){e.ui.clearFilter()},enterIf:function(){var t=n();e.meta.enterIf(t)},enterThen:function(){var t=n();e.meta.enterThen(t)},finishImplication:function(){var t=n();e.meta.setImplication(t),e.exitImplication()},exitImplication:function(){Ui(e.puzzle,e.meta.mainSnapshot),e.meta.clearImplication()}},s={newPuzzle:function(){var t=i();e.curPuzzleIdx=t,e.ui.reset(),e.puzzle=ss.create(),e.initialize()},resetPuzzle:function(){e.ui.reset(),e.puzzle.reset()},applyStoredSnapshot:function(){try{Ui(e,e.storedSnapshot)}catch(e){console.log("Unable to apply stored snapshot")}},retrieveStoredSnapshot:ra(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t||(t=le("gameStore")),n.next=3,t;case 3:return e.storedSnapshot=n.sent,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)}))),initialize:function(){var t=e.env.puzzles[e.curPuzzleIdx],n=t.cages,r=t.solution;n.forEach((function(t){var n=t.operation,i=t.result,o=t.squares,a=e.puzzle.cages.put({operation:n,result:i});a.filter.initialize(e.env.globals.size),o.forEach((function(t){var n=e.puzzle.squares.put({position:t,solution:r[t[0]][t[1]],cage:a.id});a.addSquare(n)}))}))},attachHooks:function(){var t,n;(function(e,t,n){void 0===n&&(n=!1),Io(),function(e,t,n){void 0===n&&(n=!0),Co(e).addMiddleWare(t,n)}(e,(function(r,i){if("action"===r.type&&r.id===r.rootId){var o=Co(r.context),a={name:r.name,path:No(Co(e),o),args:r.args.map((function(e,t){return function(e,t,n,r){if(r instanceof Date)return{$MST_DATE:r.getTime()};if($o(r))return r;if(Eo(r))return ao("[MSTNode: "+Bi(r).name+"]");if("function"==typeof r)return ao("[function]");if("object"==typeof r&&!Go(r)&&!Ho(r))return ao("[object "+(r&&r.constructor&&r.constructor.name||"Complex Object")+"]");try{return JSON.stringify(r),r}catch(e){return ao(""+e)}}(0,r.name,0,e)}))};if(n){var u=i(r);return t(a),u}return t(a),i(r)}return i(r)}))})(e,(function(t){e.shouldRecordAction(t)&&(e.env.future=[],e.env.history.push(e.currentState))})),n=function(t){se("gameStore",t);var n=e.env,r=n.history,i=n.snapshots,o=n.future;se("env",{history:r,snapshots:i,future:o})},Io(t=e),Co(t).onSnapshot(n)},beginStaging:function(){e.ui.curSquare.hasValue||(e.ui.isStaging=!0)},stopStaging:function(){e.ui.isStaging=!1,e.ui.hasStagedPossibilities&&e.setStagedPossibilities()},toggleStagedPossibility:function(t){e.ui.toggleStagedPossibility(t)},clearStagedPossibilities:function(){e.ui.clearStagedPossibilities()},selectSquareByDir:function(t){e.ui.selectSquareByDir(t)},selectSquareByPos:function(t){e.ui.selectSquareByPos(t)},selectSquareById:function(t){e.ui.selectSquareById(t)},clearFocus:function(){e.ui.curSquare=null},undoOrRedo:function(t){var n=t.popFrom,r=t.pushTo;if(n.length>0){r.push(e.currentState);var i=n.pop();Ui(e.puzzle,i.puzzle),Ui(e.meta,i.meta)}},undo:function(){e.undoOrRedo({popFrom:e.env.history,pushTo:e.env.future})},redo:function(){e.undoOrRedo({popFrom:e.env.future,pushTo:e.env.history})}};return{views:{get recordedActions(){return Object.keys(u)},get currentState(){return{puzzle:Hi(e.puzzle),meta:Hi(e.meta)}},shouldRecordAction:function(t){return e.recordedActions.includes(t.name)},implicationPuzzles:function(){return e.meta.implications.map(e.getPuzzlesFromImplication)},possibleImplications:function(){return e.implicationPuzzles().filter((function(t){var n=t.thenPuzzle;return e.isPossiblePuzzle(n)}))},fulfilledImplications:function(){return e.possibleImplications().filter((function(t){var n=t.ifPuzzle;return e.isFulfilledPuzzle(n)}))},getPuzzlesFromImplication:function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ds(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];return{ifPuzzle:r(o),thenPuzzle:r(a)}},isPossiblePuzzle:function(t){return t.squaresArray.every((function(t){return e.puzzle.squares.get(t.id).isConsistentWith(t)}))},isFulfilledPuzzle:function(t){return t.squaresArray.every((function(t){return e.puzzle.squares.get(t.id).isLogicalSubsetOf(t)}))}},actions:fs(fs({},u),s)}})),vs=bs;function ys(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function gs(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ys(o,r,i,a,u,"next",e)}function u(e){ys(o,r,i,a,u,"throw",e)}a(void 0)}))}}function ms(e){return ws.apply(this,arguments)}function ws(){return(ws=gs(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.env,r=t.elements,e.next=3,_s(n);case 3:return i=e.sent,_u(o={gameStore:i,env:n,elements:r}),Au(o),Pu(o),e.next=10,i.retrieveStoredSnapshot();case 10:if((a=e.sent)&&!a.options.walkthrough){e.next=16;break}return u=Ti(o),e.next=15,Nu(o);case 15:u();case 16:return i.applyStoredSnapshot(),i.attachHooks(),Ti(o),ki(o),qu(o),Cu(o),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e){return Os.apply(this,arguments)}function Os(){return(Os=gs(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vs.create({},t)).initialize(),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}(hs=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return t=e.sent,n=Eu(t),e.next=6,ms({env:t,elements:n});case 6:e.sent;case 8:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=hs.apply(e,t);function o(e){Ss(i,n,r,o,a,"next",e)}function a(e){Ss(i,n,r,o,a,"throw",e)}o(void 0)}))})()}()}();
//# sourceMappingURL=main.js.map